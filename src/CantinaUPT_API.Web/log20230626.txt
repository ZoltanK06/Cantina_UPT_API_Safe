2023-06-26 17:40:41.794 +03:00 [INF] User profile is available. Using 'C:\Users\zkato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-26 17:40:42.725 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:40:59.406 +03:00 [ERR] An error occurred seeding the DB. A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass18_0.<Exists>b__0(DateTime giveUp)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c__DisplayClass12_0`2.<Execute>b__0(DbContext c, TState s)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation, Func`2 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at Program.<Main>$(String[] args) in C:\Users\zkato\source\repos\Cantina_UPT_API_Safe\src\CantinaUPT_API.Web\Program.cs:line 144
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-06-26 17:40:59.521 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-26 17:40:59.522 +03:00 [INF] Hosting environment: Development
2023-06-26 17:40:59.522 +03:00 [INF] Content root path: C:\Users\zkato\Source\Repos\Cantina_UPT_API_Safe\src\CantinaUPT_API.Web\
2023-06-26 17:40:59.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:40:59.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2023-06-26 17:40:59.587 +03:00 [WRN] Failed to determine the https port for redirect.
2023-06-26 17:40:59.588 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:40:59.668 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-26 17:40:59.668 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:40:59.673 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller CantinaUPT_API.Web.Controllers.HomeController (CantinaUPT_API.Web).
2023-06-26 17:40:59.673 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:40:59.679 +03:00 [INF] Executing ViewResult, running view Index.
2023-06-26 17:40:59.765 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:40:59.939 +03:00 [INF] Executed ViewResult - view Index executed in 259.5421ms.
2023-06-26 17:40:59.945 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web) in 271.1483ms
2023-06-26 17:40:59.945 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-26 17:40:59.985 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2023-06-26 17:40:59.987 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2023-06-26 17:40:59.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 442.6392ms
2023-06-26 17:40:59.989 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 4.1040ms
2023-06-26 17:41:00.004 +03:00 [ERR] An error occurred using the connection to database 'CantinaUPT' on server 'DESKTOP-BSM79TT'.
2023-06-26 17:41:00.010 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CantinaUPT_API.Infrastructure.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-06-26 17:41:00.068 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-26 17:41:00.087 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.7983ms
2023-06-26 17:41:00.158 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 484.1774ms
2023-06-26 17:41:00.158 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:41:00.163 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 500 200 application/problem+json;+charset=utf-8 618.5140ms
2023-06-26 17:41:04.813 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:41:04.816 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:41:04.817 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:41:04.817 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:41:04.844 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:41:21.279 +03:00 [ERR] An error occurred using the connection to database 'CantinaUPT' on server 'DESKTOP-BSM79TT'.
2023-06-26 17:41:21.284 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CantinaUPT_API.Infrastructure.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-06-26 17:41:21.348 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-26 17:41:21.349 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 16531.5675ms
2023-06-26 17:41:21.349 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:41:21.349 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 500 200 application/problem+json;+charset=utf-8 16535.9918ms
2023-06-26 17:41:21.352 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:41:21.352 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:41:21.352 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:41:21.352 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:41:21.353 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:41:21.354 +03:00 [ERR] An error occurred using the connection to database 'CantinaUPT' on server 'DESKTOP-BSM79TT'.
2023-06-26 17:41:21.355 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CantinaUPT_API.Infrastructure.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-06-26 17:41:21.387 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-26 17:41:21.388 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 35.7086ms
2023-06-26 17:41:21.388 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:41:21.388 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 500 200 application/problem+json;+charset=utf-8 36.2712ms
2023-06-26 17:41:25.410 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:41:25.411 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:41:25.411 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:41:25.411 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:41:25.412 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:41:25.412 +03:00 [ERR] An error occurred using the connection to database 'CantinaUPT' on server 'DESKTOP-BSM79TT'.
2023-06-26 17:41:25.413 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CantinaUPT_API.Infrastructure.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2023-06-26 17:41:25.443 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-26 17:41:25.443 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 32.2553ms
2023-06-26 17:41:25.443 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:41:25.443 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 500 200 application/problem+json;+charset=utf-8 32.9789ms
2023-06-26 17:41:50.999 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:41:50.999 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:41:50.999 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:41:50.999 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:41:53.673 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:41:53.803 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 17:42:06.477 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:42:08.949 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 17949.5067ms
2023-06-26 17:42:08.949 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:42:08.949 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 17950.2865ms
2023-06-26 17:42:41.218 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:42:41.218 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:42:41.218 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:42:41.218 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:42:44.964 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:42:44.970 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 17:42:44.970 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:42:44.970 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 3751.8189ms
2023-06-26 17:42:44.970 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:42:44.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3752.4726ms
2023-06-26 17:43:00.667 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - -
2023-06-26 17:43:00.668 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:00.669 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - - - 204 - - 1.6073ms
2023-06-26 17:43:00.670 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 66
2023-06-26 17:43:00.670 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:00.670 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 17:43:00.686 +03:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CantinaUPT_API.Web.ApiModels.LoginRequestDTO) on controller CantinaUPT_API.Web.Controllers.AuthController (CantinaUPT_API.Web).
2023-06-26 17:43:00.736 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:00.935 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Username_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleName], [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Canteens] AS [c] ON [u].[CanteenId] = [c].[Id]
WHERE ([u].[Username] = @__user_Username_0) OR ([u].[Email] = @__user_Email_1)
2023-06-26 17:43:01.040 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Core.ProjectAggregate.LoginResponse'.
2023-06-26 17:43:01.041 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web) in 355.4735ms
2023-06-26 17:43:01.041 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 17:43:01.042 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 66 - 200 460 application/json;+charset=utf-8 371.9918ms
2023-06-26 17:43:14.457 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - -
2023-06-26 17:43:14.458 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:14.458 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - - - 204 - - 0.3603ms
2023-06-26 17:43:14.458 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 62
2023-06-26 17:43:14.459 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:14.459 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 17:43:14.459 +03:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CantinaUPT_API.Web.ApiModels.LoginRequestDTO) on controller CantinaUPT_API.Web.Controllers.AuthController (CantinaUPT_API.Web).
2023-06-26 17:43:14.460 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:14.463 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Username_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleName], [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Canteens] AS [c] ON [u].[CanteenId] = [c].[Id]
WHERE ([u].[Username] = @__user_Username_0) OR ([u].[Email] = @__user_Email_1)
2023-06-26 17:43:14.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Core.ProjectAggregate.LoginResponse'.
2023-06-26 17:43:14.468 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web) in 8.8446ms
2023-06-26 17:43:14.468 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 17:43:14.468 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 62 - 200 454 application/json;+charset=utf-8 9.2664ms
2023-06-26 17:43:14.476 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:43:14.476 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:14.476 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3458ms
2023-06-26 17:43:14.477 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:43:14.477 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:14.528 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:43:14.528 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:43:14.529 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:14.530 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 17:43:14.533 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:43:14.533 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 4.6686ms
2023-06-26 17:43:14.533 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:43:14.533 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 56.1736ms
2023-06-26 17:43:17.600 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:43:17.600 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:17.600 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.5600ms
2023-06-26 17:43:17.601 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:43:17.601 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 17:43:17.601 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:17.602 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3291ms
2023-06-26 17:43:17.602 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:17.603 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 17:43:17.603 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:17.603 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 17:43:17.608 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:43:17.610 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:43:17.616 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:17.617 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 17:43:17.617 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 14.6242ms
2023-06-26 17:43:17.620 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=Xf4eNsTlIV8i-bH1xI6ZfQ - -
2023-06-26 17:43:17.620 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:17.620 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 17:43:17.697 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:43:17.700 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:43:17.701 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 90.8698ms
2023-06-26 17:43:17.701 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:43:17.701 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 100.4835ms
2023-06-26 17:43:20.433 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 17:43:20.434 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:20.434 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.5649ms
2023-06-26 17:43:20.435 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 17:43:20.435 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:20.436 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 17:43:20.437 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 17:43:20.439 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:20.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 17:43:20.450 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 17:43:20.922 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:43:20.954 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 516.3196ms
2023-06-26 17:43:20.954 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 17:43:20.954 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 519.4219ms
2023-06-26 17:43:23.310 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 17:43:23.310 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:23.310 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.3532ms
2023-06-26 17:43:23.311 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 17:43:23.311 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:23.311 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 17:43:23.315 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:43:23.319 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:23.344 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 17:43:23.723 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 17:43:23.750 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 435.1032ms
2023-06-26 17:43:23.750 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 17:43:23.750 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 439.3972ms
2023-06-26 17:43:28.640 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 17:43:28.640 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:28.640 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3962ms
2023-06-26 17:43:28.643 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 17:43:28.643 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:28.643 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 17:43:28.645 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 17:43:28.645 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 2.2242ms
2023-06-26 17:43:28.647 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=wom4_AFrC8Ld2VL5mIbmAw - -
2023-06-26 17:43:28.647 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:28.647 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 17:43:28.652 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:43:28.652 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:28.652 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.2513ms
2023-06-26 17:43:28.653 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:43:28.653 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:28.654 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:43:28.656 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 17:43:28.657 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:28.672 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 17:43:28.682 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:43:28.685 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 29.167ms
2023-06-26 17:43:28.685 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:43:28.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 31.9422ms
2023-06-26 17:43:30.336 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 17:43:30.337 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:30.337 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3944ms
2023-06-26 17:43:30.337 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153
2023-06-26 17:43:30.337 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:30.338 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:43:30.339 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:43:30.362 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:30.371 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:43:30.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 22
2023-06-26 17:43:30.433 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 17:43:30.593 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:43:30.593 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 253.3437ms
2023-06-26 17:43:30.593 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:43:30.593 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153 - 200 - - 255.9409ms
2023-06-26 17:43:30.598 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:43:30.598 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:30.599 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3424ms
2023-06-26 17:43:30.600 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:43:30.600 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:30.600 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:43:30.602 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:43:30.602 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:43:30.602 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:30.602 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1748ms
2023-06-26 17:43:30.603 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:43:30.603 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:30.604 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:43:30.604 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:43:30.604 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:30.604 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:30.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:43:30.605 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:43:30.605 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1.7252ms
2023-06-26 17:43:30.606 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:43:30.606 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 2.9899ms
2023-06-26 17:43:30.619 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:43:30.620 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:43:30.620 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 17.9628ms
2023-06-26 17:43:30.620 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:43:30.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 20.5822ms
2023-06-26 17:43:43.578 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:43:43.578 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:43.578 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.3785ms
2023-06-26 17:43:43.579 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:43:43.579 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:43.579 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 17:43:43.579 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:43.579 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:43:43.580 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.2104ms
2023-06-26 17:43:43.580 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:43:43.580 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 17:43:43.580 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:43.580 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 17:43:43.580 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:43:43.580 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 17:43:43.580 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.4955ms
2023-06-26 17:43:43.581 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:43:43.582 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:43:43.582 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 2.4755ms
2023-06-26 17:43:43.582 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:43:43.583 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=i4cn5NdCSCCb76y7P-ZseQ - -
2023-06-26 17:43:43.583 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:43:43.583 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 3.6705ms
2023-06-26 17:43:43.583 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 17:44:03.570 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 17:44:03.571 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:03.571 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3281ms
2023-06-26 17:44:03.571 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 17:44:03.571 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:03.571 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 17:44:03.572 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 17:44:03.572 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5207ms
2023-06-26 17:44:03.613 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=uCT3EVj3F8VNk6ngUueSWg - -
2023-06-26 17:44:03.613 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:03.613 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 17:44:03.618 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:44:03.618 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:03.618 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.3803ms
2023-06-26 17:44:03.619 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:44:03.619 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:03.619 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:44:03.619 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 17:44:03.620 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:44:03.621 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 17:44:03.622 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:44:03.622 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.7306ms
2023-06-26 17:44:03.622 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:44:03.622 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.1995ms
2023-06-26 17:44:04.729 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 17:44:04.729 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:04.729 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3227ms
2023-06-26 17:44:04.730 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153
2023-06-26 17:44:04.730 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:04.730 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:44:04.730 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:44:04.731 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:44:04.732 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:44:04.733 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 22
2023-06-26 17:44:04.758 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 17:44:04.895 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:44:04.895 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 165.0766ms
2023-06-26 17:44:04.895 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:44:04.896 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153 - 200 - - 165.8809ms
2023-06-26 17:44:04.901 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:44:04.901 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:44:04.904 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:44:04.904 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:04.904 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:04.904 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:04.904 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 2.4760ms
2023-06-26 17:44:04.904 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 2.4761ms
2023-06-26 17:44:04.904 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 2.4760ms
2023-06-26 17:44:04.905 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:44:04.905 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:04.905 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:44:04.905 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:44:04.905 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:44:04.905 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:04.905 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:44:04.905 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:44:04.906 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:44:04.906 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:44:04.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:44:04.908 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:44:04.911 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 5.6343ms
2023-06-26 17:44:04.911 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:44:04.914 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:44:04.916 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:44:04.916 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 10.9463ms
2023-06-26 17:44:04.916 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:44:04.917 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 11.8916ms
2023-06-26 17:44:04.917 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 12.0056ms
2023-06-26 17:44:04.918 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:44:04.918 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:44:04.919 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:44:04.919 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:44:04.919 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:44:04.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:44:04.921 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:44:04.921 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 2.6258ms
2023-06-26 17:44:04.921 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:44:04.922 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 4.0241ms
2023-06-26 17:55:01.383 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 17:55:01.383 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:55:01.384 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3863ms
2023-06-26 17:55:01.385 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 17:55:01.385 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:55:01.385 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 17:55:01.385 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 17:55:01.386 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6620ms
2023-06-26 17:55:01.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=iAG4SS8hbHh7oIAQLnjHvg - -
2023-06-26 17:55:01.428 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:55:01.428 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 17:55:01.431 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:55:01.431 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:55:01.431 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1837ms
2023-06-26 17:55:01.432 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:55:01.432 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:55:01.432 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:55:01.432 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 17:55:01.433 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:55:01.440 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 17:55:01.441 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:55:01.441 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 8.4435ms
2023-06-26 17:55:01.441 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:55:01.441 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 8.9708ms
2023-06-26 17:56:10.756 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 17:56:10.756 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:10.756 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3362ms
2023-06-26 17:56:10.757 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153
2023-06-26 17:56:10.757 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:10.757 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:56:10.757 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:56:10.758 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:56:10.759 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:56:10.760 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 22
2023-06-26 17:56:10.776 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 17:56:10.913 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:56:10.914 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 156.6018ms
2023-06-26 17:56:10.914 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:56:10.914 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153 - 200 - - 157.4402ms
2023-06-26 17:56:10.920 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:56:10.920 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:56:10.920 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:56:10.922 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:10.922 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:10.924 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:10.924 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 3.8499ms
2023-06-26 17:56:10.924 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:56:10.924 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 3.9067ms
2023-06-26 17:56:10.924 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 3.9563ms
2023-06-26 17:56:10.924 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:10.924 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:56:10.924 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:56:10.925 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:56:10.925 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:56:10.925 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:10.925 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:56:10.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:56:10.926 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:56:10.926 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:56:10.926 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1.9832ms
2023-06-26 17:56:10.926 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:56:10.927 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:56:10.927 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 3.2263ms
2023-06-26 17:56:10.928 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:56:10.928 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:56:10.928 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 2.5865ms
2023-06-26 17:56:10.928 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:56:10.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 4.2245ms
2023-06-26 17:56:10.930 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:56:10.930 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:10.930 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:56:10.931 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:56:10.931 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:56:10.933 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:56:10.934 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:56:10.934 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 3.3538ms
2023-06-26 17:56:10.934 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:56:10.934 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 4.6171ms
2023-06-26 17:56:43.943 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 17:56:43.943 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:43.943 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3176ms
2023-06-26 17:56:43.944 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 17:56:43.944 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:43.944 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 17:56:43.944 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 17:56:43.945 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6234ms
2023-06-26 17:56:43.986 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=CnUMG4L6V2YKmkXe6JMwvQ - -
2023-06-26 17:56:43.986 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:43.986 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 17:56:43.989 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:56:43.989 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:43.989 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1728ms
2023-06-26 17:56:43.990 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:56:43.990 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:43.990 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:56:43.990 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 17:56:43.991 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:56:43.992 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 17:56:43.993 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:56:43.993 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.8392ms
2023-06-26 17:56:43.993 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:56:43.993 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.3229ms
2023-06-26 17:56:44.550 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 17:56:44.550 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:44.550 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3491ms
2023-06-26 17:56:44.551 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153
2023-06-26 17:56:44.551 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:56:44.551 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:56:44.551 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:56:47.379 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:56:47.380 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:56:48.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 22
2023-06-26 17:57:05.940 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 17:57:08.954 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:57:08.955 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 24403.1428ms
2023-06-26 17:57:08.955 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:57:08.955 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153 - 200 - - 24403.9170ms
2023-06-26 17:57:08.964 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:57:08.970 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:57:08.970 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:57:08.970 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:08.970 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:08.970 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:08.970 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4409ms
2023-06-26 17:57:08.970 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4425ms
2023-06-26 17:57:08.970 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 7.1862ms
2023-06-26 17:57:08.972 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:57:08.972 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:08.972 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:57:08.972 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:08.972 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:57:08.972 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:57:08.972 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:57:08.972 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:57:08.975 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:57:08.975 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:57:08.976 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:57:08.987 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:57:09.005 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:57:09.006 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 33.49ms
2023-06-26 17:57:09.006 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:57:09.008 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 35.4160ms
2023-06-26 17:57:12.649 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:57:12.649 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:57:12.650 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 3677.2783ms
2023-06-26 17:57:12.650 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:12.650 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:57:12.650 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:57:12.650 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 3678.2576ms
2023-06-26 17:57:12.650 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:57:12.651 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:57:12.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:57:12.652 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:57:12.652 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 2.133ms
2023-06-26 17:57:12.652 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:57:12.653 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 - - 4.1684ms
2023-06-26 17:57:17.929 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:57:17.930 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:17.930 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3800ms
2023-06-26 17:57:17.931 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:57:17.931 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:17.931 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:57:17.931 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:57:17.931 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:57:17.933 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:57:17.933 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:57:17.933 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 2.388ms
2023-06-26 17:57:17.934 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:57:17.934 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 3.5074ms
2023-06-26 17:57:19.707 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:57:19.707 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:57:19.707 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:57:19.707 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:57:19.708 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:57:19.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:57:19.709 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:57:19.710 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 2.2032ms
2023-06-26 17:57:19.710 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:57:19.710 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 3.5992ms
2023-06-26 17:58:05.160 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:58:05.160 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:05.160 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.4520ms
2023-06-26 17:58:05.161 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 17:58:05.161 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:05.162 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:58:05.162 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 17:58:05.162 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:05.163 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 17:58:05.164 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:58:05.165 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.7992ms
2023-06-26 17:58:05.165 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 17:58:05.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.4590ms
2023-06-26 17:58:06.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 17:58:06.648 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:06.648 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.2923ms
2023-06-26 17:58:06.648 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 17:58:06.648 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:06.649 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 17:58:06.649 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 17:58:06.649 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5014ms
2023-06-26 17:58:06.650 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=pLrk9es5Z3eSYLSpyicW3w - -
2023-06-26 17:58:06.650 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:06.650 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 17:58:06.653 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:58:06.653 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:06.653 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1440ms
2023-06-26 17:58:06.653 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 17:58:06.653 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:06.654 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:58:06.654 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 17:58:06.654 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:06.655 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 17:58:06.656 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:58:06.656 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.7638ms
2023-06-26 17:58:06.657 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 17:58:06.657 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.2276ms
2023-06-26 17:58:07.208 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 17:58:07.209 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:07.209 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.4829ms
2023-06-26 17:58:07.210 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153
2023-06-26 17:58:07.210 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:07.210 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:58:07.210 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:09.087 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:09.088 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:58:09.090 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 22
2023-06-26 17:58:12.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 17:58:14.400 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 17:58:14.432 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p5, @p6, @p7);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 17:58:16.507 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:58:16.508 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 9297.4581ms
2023-06-26 17:58:16.508 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 17:58:16.508 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153 - 200 - - 9298.3514ms
2023-06-26 17:58:16.516 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:58:16.516 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:16.517 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3633ms
2023-06-26 17:58:16.517 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 17:58:16.518 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:16.518 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:58:16.518 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:16.519 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:16.520 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:58:16.540 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 17:58:16.549 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:58:16.550 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:16.550 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:58:16.550 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:16.550 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.5976ms
2023-06-26 17:58:16.550 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4969ms
2023-06-26 17:58:16.553 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:58:16.553 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:16.554 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:58:16.554 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:16.554 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:16.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:58:16.557 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 38.9837ms
2023-06-26 17:58:16.557 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:58:16.557 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 180757 application/json;+charset=utf-8 39.6362ms
2023-06-26 17:58:16.587 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:58:16.603 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:58:16.603 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:16.604 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:58:16.604 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:16.604 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 50.2257ms
2023-06-26 17:58:16.604 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:58:16.604 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 180758 application/json;+charset=utf-8 50.9163ms
2023-06-26 17:58:16.605 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:16.606 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:58:16.634 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:58:16.642 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 38.0561ms
2023-06-26 17:58:16.642 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:58:16.642 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 180758 application/json;+charset=utf-8 38.9900ms
2023-06-26 17:58:24.690 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1003&newOrderStatusId=2 - -
2023-06-26 17:58:24.691 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:24.691 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1003&newOrderStatusId=2 - - - 204 - - 0.3633ms
2023-06-26 17:58:24.692 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1003&newOrderStatusId=2 application/json 4
2023-06-26 17:58:24.692 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:24.692 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 17:58:24.694 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:24.695 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:24.696 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:58:24.702 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:58:24.718 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 17:58:24.721 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:58:24.721 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 27.2517ms
2023-06-26 17:58:24.721 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 17:58:24.722 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1003&newOrderStatusId=2 application/json 4 - 200 - - 30.1244ms
2023-06-26 17:58:24.725 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:58:24.725 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:24.726 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.5820ms
2023-06-26 17:58:24.726 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:58:24.726 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:24.727 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:58:24.727 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:24.727 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:24.728 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:58:24.762 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:58:24.772 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 44.9135ms
2023-06-26 17:58:24.772 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:58:24.772 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 180754 application/json;+charset=utf-8 45.6528ms
2023-06-26 17:58:26.358 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1003&newOrderStatusId=3 - -
2023-06-26 17:58:26.358 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:26.358 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1003&newOrderStatusId=3 - - - 204 - - 0.3484ms
2023-06-26 17:58:26.359 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1003&newOrderStatusId=3 application/json 4
2023-06-26 17:58:26.359 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:26.359 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 17:58:26.359 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:26.360 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:26.362 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:58:26.363 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 17:58:26.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 17:58:26.365 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:58:26.365 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 5.8395ms
2023-06-26 17:58:26.365 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 17:58:26.366 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1003&newOrderStatusId=3 application/json 4 - 200 - - 6.8263ms
2023-06-26 17:58:26.368 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 17:58:26.368 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:26.369 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:58:26.369 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:26.369 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:26.370 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:58:26.388 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 17:58:26.398 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 29.6637ms
2023-06-26 17:58:26.399 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 17:58:26.399 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 180754 application/json;+charset=utf-8 30.4551ms
2023-06-26 17:58:28.561 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 17:58:28.561 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 17:58:28.561 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 17:58:28.561 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 17:58:28.561 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 17:58:28.561 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=CnUMG4L6V2YKmkXe6JMwvQ - - - 101 - - 104575.7573ms
2023-06-26 17:58:28.561 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=wom4_AFrC8Ld2VL5mIbmAw - - - 101 - - 899914.4819ms
2023-06-26 17:58:28.561 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=pLrk9es5Z3eSYLSpyicW3w - - - 101 - - 21911.3406ms
2023-06-26 17:58:28.561 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=uCT3EVj3F8VNk6ngUueSWg - - - 101 - - 864948.8831ms
2023-06-26 17:58:28.561 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=iAG4SS8hbHh7oIAQLnjHvg - - - 101 - - 207133.8793ms
2023-06-26 17:58:45.552 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-26 17:58:45.552 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:45.552 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 204 - - 0.3505ms
2023-06-26 17:58:45.553 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-26 17:58:45.553 +03:00 [INF] CORS policy execution successful.
2023-06-26 17:58:45.553 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:58:45.553 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 17:58:45.554 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 17:58:45.555 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 17:58:45.570 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 17:58:45.570 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 17.1656ms
2023-06-26 17:58:45.570 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 17:58:45.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 200 - - 17.9155ms
2023-06-26 18:01:12.208 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-26 18:01:12.208 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:01:12.208 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 204 - - 0.3753ms
2023-06-26 18:01:12.210 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-26 18:01:12.210 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:01:12.210 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:01:12.210 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:01:12.211 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:01:12.212 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:01:12.241 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:01:12.241 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 30.5787ms
2023-06-26 18:01:12.241 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:01:12.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 200 - - 31.5055ms
2023-06-26 18:01:13.161 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:01:13.161 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:01:13.161 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3820ms
2023-06-26 18:01:13.162 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:01:13.162 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:01:13.163 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:01:13.163 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:01:13.163 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:01:13.164 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:01:13.165 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:01:13.166 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.6939ms
2023-06-26 18:01:13.166 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:01:13.166 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.3584ms
2023-06-26 18:01:13.830 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-26 18:01:13.830 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:01:13.831 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:01:13.831 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:01:13.831 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:01:13.832 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:01:13.864 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:01:13.864 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 33.0748ms
2023-06-26 18:01:13.864 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:01:13.864 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 200 - - 34.0901ms
2023-06-26 18:01:15.822 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:01:15.822 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:01:15.823 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:01:15.823 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:01:15.823 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:01:15.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:01:15.825 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:01:15.825 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.623ms
2023-06-26 18:01:15.825 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:01:15.825 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.4524ms
2023-06-26 18:01:16.397 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-26 18:01:16.397 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:01:16.397 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:01:16.397 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:01:16.398 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:01:16.399 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:01:16.423 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:01:16.423 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 25.4318ms
2023-06-26 18:01:16.423 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:01:16.423 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 200 - - 26.3929ms
2023-06-26 18:07:38.426 +03:00 [INF] User profile is available. Using 'C:\Users\zkato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-26 18:07:39.211 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:07:39.483 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-26 18:07:39.516 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-26 18:07:39.527 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:07:39.749 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ToDoItems] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-06-26 18:07:39.817 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-26 18:07:39.817 +03:00 [INF] Hosting environment: Development
2023-06-26 18:07:39.817 +03:00 [INF] Content root path: C:\Users\zkato\Source\Repos\Cantina_UPT_API_Safe\src\CantinaUPT_API.Web\
2023-06-26 18:07:39.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2023-06-26 18:07:39.871 +03:00 [WRN] Failed to determine the https port for redirect.
2023-06-26 18:07:39.935 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-26 18:07:39.940 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller CantinaUPT_API.Web.Controllers.HomeController (CantinaUPT_API.Web).
2023-06-26 18:07:39.945 +03:00 [INF] Executing ViewResult, running view Index.
2023-06-26 18:07:40.130 +03:00 [INF] Executed ViewResult - view Index executed in 185.1748ms.
2023-06-26 18:07:40.134 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web) in 194.3197ms
2023-06-26 18:07:40.135 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-26 18:07:40.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2023-06-26 18:07:40.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2023-06-26 18:07:40.164 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 6.2761ms
2023-06-26 18:07:40.171 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 342.2693ms
2023-06-26 18:07:40.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.6847ms
2023-06-26 18:07:44.992 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:07:44.994 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:44.996 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 4.4516ms
2023-06-26 18:07:44.997 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:07:44.997 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:45.121 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:07:45.124 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:07:45.229 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:07:45.293 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:07:45.369 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:07:45.435 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 310.7922ms
2023-06-26 18:07:45.435 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:07:45.439 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 441.5340ms
2023-06-26 18:07:48.958 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:07:48.959 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:07:48.960 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:48.960 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.4151ms
2023-06-26 18:07:48.960 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:48.960 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 2.1203ms
2023-06-26 18:07:48.961 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:07:48.961 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:48.961 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:07:48.962 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:07:48.962 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:48.967 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:07:48.971 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:07:48.971 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 9.6661ms
2023-06-26 18:07:48.973 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=xtwgE6Ogagrhn0fKRvOw5A - -
2023-06-26 18:07:48.973 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:48.974 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:07:48.976 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:07:48.991 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:07:49.176 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:07:49.281 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:07:49.301 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 325.2195ms
2023-06-26 18:07:49.301 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:07:49.302 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 180754 application/json;+charset=utf-8 340.2283ms
2023-06-26 18:07:50.725 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:07:50.726 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:50.726 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3389ms
2023-06-26 18:07:50.726 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:07:50.726 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:50.726 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:07:50.727 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:07:50.727 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6878ms
2023-06-26 18:07:50.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=YEK9pwOatT8PqEemAwWqVg - -
2023-06-26 18:07:50.729 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:50.729 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:07:50.737 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:07:50.737 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:50.737 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.2952ms
2023-06-26 18:07:50.738 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:07:50.738 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:50.738 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:07:50.740 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 18:07:50.744 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:07:50.759 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 18:07:50.780 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:07:50.782 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 41.9112ms
2023-06-26 18:07:50.782 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:07:50.782 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 44.5126ms
2023-06-26 18:07:51.850 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 18:07:51.850 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:51.850 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3649ms
2023-06-26 18:07:51.851 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156
2023-06-26 18:07:51.851 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:07:51.851 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:07:51.853 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:07:51.910 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-06-26 18:07:51.925 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 71.8425ms
2023-06-26 18:07:51.925 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:07:51.925 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156 - 400 365 application/problem+json;+charset=utf-8 74.2226ms
2023-06-26 18:08:02.495 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:08:02.495 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:02.495 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3049ms
2023-06-26 18:08:02.495 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:08:02.496 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:02.496 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:08:02.496 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:08:02.496 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6324ms
2023-06-26 18:08:02.497 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=QYGdvutAH_WYSZrWwyDpGQ - -
2023-06-26 18:08:02.498 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:02.498 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:08:02.502 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:08:02.502 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:02.502 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.3990ms
2023-06-26 18:08:02.505 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:08:02.505 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:02.505 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:08:02.505 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 18:08:02.505 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:02.508 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 18:08:02.509 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:08:02.510 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 4.7559ms
2023-06-26 18:08:02.510 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:08:02.510 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 5.3186ms
2023-06-26 18:08:03.901 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 18:08:03.901 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:03.902 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3497ms
2023-06-26 18:08:03.902 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156
2023-06-26 18:08:03.902 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:03.902 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:08:03.902 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:08:03.903 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-06-26 18:08:03.904 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 1.1508ms
2023-06-26 18:08:03.904 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:08:03.904 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156 - 400 365 application/problem+json;+charset=utf-8 1.6524ms
2023-06-26 18:08:29.601 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:08:29.603 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:29.603 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 2.1528ms
2023-06-26 18:08:29.604 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:08:29.604 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:29.604 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:08:29.604 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:08:29.605 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:29.605 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:08:29.606 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:08:29.607 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.5806ms
2023-06-26 18:08:29.607 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:08:29.607 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.1908ms
2023-06-26 18:08:30.403 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:08:30.403 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:30.403 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.5850ms
2023-06-26 18:08:30.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:08:30.405 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:30.405 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:08:30.406 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 18:08:30.409 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:30.411 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 18:08:30.417 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 18:08:30.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:08:30.930 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 522.9981ms
2023-06-26 18:08:30.930 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:08:30.930 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 525.7628ms
2023-06-26 18:08:33.160 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:08:33.160 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:33.161 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.4199ms
2023-06-26 18:08:33.162 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:08:33.162 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:33.162 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:08:33.165 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:08:33.167 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:33.178 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 18:08:33.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 18:08:33.573 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 408.5495ms
2023-06-26 18:08:33.573 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:08:33.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 411.5088ms
2023-06-26 18:08:40.684 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:08:40.684 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:40.684 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3318ms
2023-06-26 18:08:40.685 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:08:40.685 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:40.685 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:08:40.687 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:08:40.687 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 1.9407ms
2023-06-26 18:08:40.689 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=4zhR2lw9vnE4lG9dc6lyIA - -
2023-06-26 18:08:40.689 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:40.689 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:08:40.692 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:08:40.692 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:40.693 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1835ms
2023-06-26 18:08:40.693 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:08:40.693 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:40.693 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:08:40.694 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 18:08:40.694 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:40.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 18:08:40.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:08:40.696 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.8625ms
2023-06-26 18:08:40.696 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:08:40.697 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.3926ms
2023-06-26 18:08:41.489 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 18:08:41.489 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:41.490 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3430ms
2023-06-26 18:08:41.490 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156
2023-06-26 18:08:41.490 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:41.491 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:08:41.491 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:08:44.346 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:44.355 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:08:44.369 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 21
2023-06-26 18:08:44.479 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 18:08:44.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:08:44.617 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p5, @p6, @p7);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:08:44.648 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:08:44.648 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 3157.4717ms
2023-06-26 18:08:44.648 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:08:44.648 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156 - 200 - - 3158.1716ms
2023-06-26 18:08:44.656 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:08:44.656 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:44.656 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:08:44.656 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3565ms
2023-06-26 18:08:44.656 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:44.656 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.1828ms
2023-06-26 18:08:44.657 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:08:44.657 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:44.657 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:08:44.658 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:08:44.658 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6137ms
2023-06-26 18:08:44.660 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=hEr0MaZDQvOzYpZrBL51aw - -
2023-06-26 18:08:44.660 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:08:44.660 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:44.660 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:44.660 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:08:44.661 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:08:44.665 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:08:44.667 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:44.677 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:08:44.703 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:08:44.703 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:44.703 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.2750ms
2023-06-26 18:08:44.704 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:08:44.704 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:44.704 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:08:44.704 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:08:44.705 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:44.715 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:08:44.850 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:08:44.862 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 197.3192ms
2023-06-26 18:08:44.862 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:08:44.862 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399186 application/json;+charset=utf-8 201.9283ms
2023-06-26 18:08:44.881 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:08:44.894 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 189.9036ms
2023-06-26 18:08:44.894 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:08:44.894 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 579940 application/json;+charset=utf-8 190.7709ms
2023-06-26 18:08:52.589 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1004&newOrderStatusId=2 - -
2023-06-26 18:08:52.589 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:52.589 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1004&newOrderStatusId=2 - - - 204 - - 0.3897ms
2023-06-26 18:08:52.590 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1004&newOrderStatusId=2 application/json 4
2023-06-26 18:08:52.590 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:52.590 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:08:52.592 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:08:52.593 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:52.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:08:52.598 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:08:52.609 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:08:52.616 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:08:52.617 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 24.198ms
2023-06-26 18:08:52.617 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:08:52.617 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1004&newOrderStatusId=2 application/json 4 - 200 - - 26.9210ms
2023-06-26 18:08:52.619 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:08:52.619 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:52.619 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.2163ms
2023-06-26 18:08:52.619 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:08:52.619 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:52.620 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:08:52.620 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:08:52.620 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:52.621 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:08:52.764 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:08:52.780 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 160.0427ms
2023-06-26 18:08:52.780 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:08:52.780 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 579936 application/json;+charset=utf-8 160.7445ms
2023-06-26 18:08:52.826 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:08:52.826 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:52.826 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.4646ms
2023-06-26 18:08:52.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:08:52.827 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:08:52.828 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:08:52.828 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:08:52.828 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:08:52.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:08:52.950 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:08:52.964 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 136.594ms
2023-06-26 18:08:52.965 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:08:52.965 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 137.2332ms
2023-06-26 18:09:01.589 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1004&newOrderStatusId=3 - -
2023-06-26 18:09:01.589 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:01.589 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1004&newOrderStatusId=3 - - - 204 - - 0.3600ms
2023-06-26 18:09:01.590 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1004&newOrderStatusId=3 application/json 4
2023-06-26 18:09:01.590 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:01.590 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:09:01.590 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:01.591 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:01.592 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:09:01.594 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:09:01.595 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:09:01.596 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:09:01.596 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 5.1666ms
2023-06-26 18:09:01.596 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:09:01.596 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1004&newOrderStatusId=3 application/json 4 - 200 - - 5.8871ms
2023-06-26 18:09:01.597 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:09:01.597 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:01.597 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1702ms
2023-06-26 18:09:01.598 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:09:01.598 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:01.598 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:09:01.598 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:01.599 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:01.599 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:09:01.730 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:09:01.745 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 146.4436ms
2023-06-26 18:09:01.745 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:09:01.745 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 579936 application/json;+charset=utf-8 147.0844ms
2023-06-26 18:09:01.750 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:09:01.750 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:01.750 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3965ms
2023-06-26 18:09:01.751 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:09:01.751 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:01.751 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:01.751 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:01.752 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:01.753 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:09:01.884 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:09:01.884 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 132.7381ms
2023-06-26 18:09:01.884 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:01.885 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 133.6219ms
2023-06-26 18:09:49.562 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:09:49.562 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:49.562 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3638ms
2023-06-26 18:09:49.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:09:49.563 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:49.563 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:09:49.563 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:09:49.564 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:49.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:09:49.565 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:09:49.566 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.7385ms
2023-06-26 18:09:49.566 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:09:49.566 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.3039ms
2023-06-26 18:09:50.436 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:09:50.436 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:50.436 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3507ms
2023-06-26 18:09:50.437 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:09:50.437 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:50.438 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:09:50.438 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 18:09:50.438 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:50.439 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 18:09:50.440 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 18:09:50.931 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:09:50.962 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 524.5192ms
2023-06-26 18:09:50.962 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:09:50.962 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 525.1167ms
2023-06-26 18:09:52.206 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:09:52.206 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:52.206 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.3585ms
2023-06-26 18:09:52.207 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:09:52.207 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:52.208 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:09:52.208 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:09:52.208 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:52.209 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 18:09:52.563 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 18:09:52.588 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 379.9369ms
2023-06-26 18:09:52.588 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:09:52.588 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 380.6949ms
2023-06-26 18:09:54.973 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:09:54.973 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:54.973 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3252ms
2023-06-26 18:09:54.974 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:09:54.974 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:54.975 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:09:54.975 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:09:54.975 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5301ms
2023-06-26 18:09:54.977 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=EJjACVwBOgsluO71NeOTUA - -
2023-06-26 18:09:54.977 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:54.977 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:09:54.981 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:09:54.981 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:54.981 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1551ms
2023-06-26 18:09:54.983 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:09:54.983 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:54.984 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:09:54.984 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 18:09:54.984 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:54.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 18:09:54.986 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:09:54.986 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.6148ms
2023-06-26 18:09:54.986 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:09:54.986 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.1510ms
2023-06-26 18:09:56.105 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 18:09:56.105 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.105 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3066ms
2023-06-26 18:09:56.106 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 155
2023-06-26 18:09:56.106 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.106 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:56.106 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:56.107 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:56.108 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:09:56.110 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 21
2023-06-26 18:09:56.215 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 18:09:56.216 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:09:56.217 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p5, @p6, @p7);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:09:56.222 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:09:56.222 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 115.3114ms
2023-06-26 18:09:56.222 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:56.222 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 155 - 200 - - 116.0945ms
2023-06-26 18:09:56.230 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:09:56.231 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:09:56.230 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:09:56.232 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.232 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.232 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.233 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 2.1714ms
2023-06-26 18:09:56.233 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 3.5676ms
2023-06-26 18:09:56.233 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 3.6179ms
2023-06-26 18:09:56.233 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:09:56.233 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.234 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:56.234 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:09:56.234 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:56.234 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.234 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:09:56.234 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:09:56.234 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.4106ms
2023-06-26 18:09:56.234 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:09:56.234 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.234 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:56.234 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:09:56.234 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:56.235 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:56.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:09:56.237 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:09:56.238 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=oDj07txBRb8KloKLrX-Vvg - -
2023-06-26 18:09:56.238 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:56.238 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:09:56.499 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:09:56.513 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:09:56.517 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 282.5742ms
2023-06-26 18:09:56.517 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:09:56.517 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 979121 application/json;+charset=utf-8 283.1422ms
2023-06-26 18:09:56.528 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 294.1876ms
2023-06-26 18:09:56.528 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:56.528 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399185 application/json;+charset=utf-8 294.8872ms
2023-06-26 18:09:59.334 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1005&newOrderStatusId=2 - -
2023-06-26 18:09:59.334 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:59.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1005&newOrderStatusId=2 - - - 204 - - 0.3398ms
2023-06-26 18:09:59.335 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1005&newOrderStatusId=2 application/json 4
2023-06-26 18:09:59.335 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:59.336 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:09:59.336 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:59.336 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:59.337 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:09:59.339 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:09:59.340 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:09:59.341 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:09:59.341 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 4.9839ms
2023-06-26 18:09:59.341 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:09:59.341 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1005&newOrderStatusId=2 application/json 4 - 200 - - 5.8315ms
2023-06-26 18:09:59.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:09:59.343 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:59.343 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:09:59.343 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:59.343 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:59.344 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:09:59.592 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:09:59.611 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 267.9442ms
2023-06-26 18:09:59.611 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:09:59.611 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 979117 application/json;+charset=utf-8 268.6483ms
2023-06-26 18:09:59.619 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:09:59.622 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:59.622 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:59.622 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:59.623 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:59.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:09:59.888 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:09:59.897 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:09:59.897 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:09:59.897 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:59.897 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:09:59.898 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:09:59.899 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:09:59.902 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 280.0007ms
2023-06-26 18:09:59.902 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:09:59.902 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399181 application/json;+charset=utf-8 282.7957ms
2023-06-26 18:10:00.136 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:10:00.148 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 250.3319ms
2023-06-26 18:10:00.148 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:10:00.148 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399181 application/json;+charset=utf-8 251.0460ms
2023-06-26 18:10:10.236 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1005&newOrderStatusId=3 - -
2023-06-26 18:10:10.236 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:10.237 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1005&newOrderStatusId=3 - - - 204 - - 0.3676ms
2023-06-26 18:10:10.237 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1005&newOrderStatusId=3 application/json 4
2023-06-26 18:10:10.237 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:10.237 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:10:10.237 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:10:10.238 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:10:10.239 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:10:10.241 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:10:10.242 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:10:10.249 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:10:10.250 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 12.0402ms
2023-06-26 18:10:10.250 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:10:10.250 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1005&newOrderStatusId=3 application/json 4 - 200 - - 12.8033ms
2023-06-26 18:10:10.251 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:10:10.251 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:10.251 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1567ms
2023-06-26 18:10:10.252 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:10:10.252 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:10.252 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:10:10.252 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:10:10.253 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:10:10.253 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:10:10.503 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:10:10.519 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 267.2891ms
2023-06-26 18:10:10.520 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:10:10.520 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 979117 application/json;+charset=utf-8 267.8787ms
2023-06-26 18:10:10.525 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:10:10.525 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:10.525 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.2890ms
2023-06-26 18:10:10.525 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:10:10.526 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:10.526 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.1481ms
2023-06-26 18:10:10.526 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:10:10.526 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:10.526 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:10:10.526 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:10:10.527 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:10:10.528 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:10:10.767 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:10:10.768 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 241.2312ms
2023-06-26 18:10:10.768 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:10:10.768 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 242.1033ms
2023-06-26 18:10:10.769 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:10:10.769 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:10.769 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:10:10.770 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:10:10.770 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:10:10.771 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:10:11.020 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:10:11.021 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 251.0718ms
2023-06-26 18:10:11.021 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:10:11.021 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 252.0855ms
2023-06-26 18:10:54.701 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:10:54.701 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:54.701 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.3940ms
2023-06-26 18:10:54.702 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:10:54.702 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:54.703 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:10:54.703 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:10:54.703 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:10:54.703 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:54.703 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.1696ms
2023-06-26 18:10:54.704 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:10:54.705 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:10:54.705 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:54.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:10:54.705 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:10:54.706 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:10:54.706 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 1.8185ms
2023-06-26 18:10:54.709 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=94eNNvX47QFeQKpeYbnL6A - -
2023-06-26 18:10:54.709 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:10:54.709 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:10:54.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:10:54.994 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 291.4305ms
2023-06-26 18:10:54.994 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:10:54.995 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 979117 application/json;+charset=utf-8 292.3614ms
2023-06-26 18:11:18.804 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:18.804 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:18.805 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.7851ms
2023-06-26 18:11:18.806 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:18.807 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:18.807 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:18.807 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:18.807 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:11:18.807 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:18.807 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.2396ms
2023-06-26 18:11:18.808 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:11:18.808 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:18.808 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:18.808 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:11:18.809 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:11:18.809 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.9426ms
2023-06-26 18:11:18.810 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:18.818 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=JHJJ0qzogwXO8bJSIQpkWw - -
2023-06-26 18:11:18.818 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:18.831 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:11:19.143 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:11:19.143 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 336.1059ms
2023-06-26 18:11:19.143 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:19.144 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 337.2782ms
2023-06-26 18:11:30.927 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:11:30.928 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:30.928 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3964ms
2023-06-26 18:11:30.929 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:11:30.929 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:30.929 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:11:30.930 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:11:30.931 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:30.931 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:11:30.932 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:11:30.933 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 3.3113ms
2023-06-26 18:11:30.933 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:11:30.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 4.1166ms
2023-06-26 18:11:32.018 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:11:32.018 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:32.018 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3077ms
2023-06-26 18:11:32.019 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:11:32.019 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:32.019 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:11:32.019 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 18:11:32.020 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:32.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 18:11:32.022 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 18:11:32.515 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:11:32.555 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 535.6291ms
2023-06-26 18:11:32.555 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:11:32.555 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 536.3061ms
2023-06-26 18:11:33.598 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:11:33.598 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:33.598 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.4059ms
2023-06-26 18:11:33.599 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:11:33.599 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:33.599 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:11:33.599 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:11:33.600 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:33.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 18:11:33.974 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 18:11:33.999 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 399.8368ms
2023-06-26 18:11:33.999 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:11:33.999 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 400.5250ms
2023-06-26 18:11:36.549 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:11:36.549 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:36.549 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3120ms
2023-06-26 18:11:36.550 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:11:36.550 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:36.550 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:11:36.550 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:11:36.550 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5346ms
2023-06-26 18:11:36.552 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=-gAuMZxlXvJtQqxIkYGSzQ - -
2023-06-26 18:11:36.552 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:36.552 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:11:36.555 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:11:36.555 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:36.555 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1824ms
2023-06-26 18:11:36.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:11:36.556 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:36.556 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:11:36.556 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 18:11:36.557 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:36.558 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 18:11:36.559 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:11:36.560 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 3.0611ms
2023-06-26 18:11:36.560 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:11:36.560 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.7050ms
2023-06-26 18:11:37.853 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 18:11:37.853 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.853 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3291ms
2023-06-26 18:11:37.854 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153
2023-06-26 18:11:37.854 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.854 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:37.854 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:37.854 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:37.856 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:11:37.857 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 20
2023-06-26 18:11:37.896 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 18:11:37.897 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:11:37.898 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p5, @p6, @p7);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:11:37.910 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:11:37.910 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 55.8331ms
2023-06-26 18:11:37.910 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:37.910 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153 - 200 - - 56.6028ms
2023-06-26 18:11:37.916 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:11:37.916 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.916 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.6314ms
2023-06-26 18:11:37.916 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:37.917 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.917 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.1494ms
2023-06-26 18:11:37.917 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:11:37.917 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.917 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:11:37.917 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:37.917 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:11:37.918 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.918 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5418ms
2023-06-26 18:11:37.918 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:37.918 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:37.918 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:37.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:37.921 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=F30JESC4wsnaMmJShRkffw - -
2023-06-26 18:11:37.921 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.921 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:11:37.956 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:11:37.957 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.957 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.3556ms
2023-06-26 18:11:37.958 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:11:37.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:11:37.958 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.958 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:37.958 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1730ms
2023-06-26 18:11:37.958 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:11:37.958 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:37.959 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:37.960 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:38.281 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:11:38.294 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 375.7199ms
2023-06-26 18:11:38.294 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:38.294 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 241830 application/json;+charset=utf-8 376.3439ms
2023-06-26 18:11:38.304 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:11:38.316 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:11:38.316 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:38.316 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:11:38.316 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:38.317 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:38.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:38.329 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 370.9961ms
2023-06-26 18:11:38.329 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:11:38.329 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1220947 application/json;+charset=utf-8 371.7173ms
2023-06-26 18:11:38.616 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:11:38.637 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 320.5843ms
2023-06-26 18:11:38.637 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:11:38.637 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1220947 application/json;+charset=utf-8 321.4926ms
2023-06-26 18:11:47.545 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1006&newOrderStatusId=2 - -
2023-06-26 18:11:47.545 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:47.545 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1006&newOrderStatusId=2 - - - 204 - - 0.4017ms
2023-06-26 18:11:47.546 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1006&newOrderStatusId=2 application/json 4
2023-06-26 18:11:47.546 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:47.546 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:11:47.546 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:47.547 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:47.548 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:11:47.550 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:11:47.551 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:11:47.552 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:11:47.552 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 5.8175ms
2023-06-26 18:11:47.552 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:11:47.553 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1006&newOrderStatusId=2 application/json 4 - 200 - - 6.6674ms
2023-06-26 18:11:47.554 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:11:47.554 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:47.555 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.2119ms
2023-06-26 18:11:47.555 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:11:47.555 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:47.556 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:11:47.556 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:47.556 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:47.557 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:47.850 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:11:47.871 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 315.2876ms
2023-06-26 18:11:47.871 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:11:47.871 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1220943 application/json;+charset=utf-8 315.9791ms
2023-06-26 18:11:47.917 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:47.917 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:47.918 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3767ms
2023-06-26 18:11:47.918 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:47.918 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:47.918 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.1384ms
2023-06-26 18:11:47.918 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:47.918 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:47.919 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:47.919 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:47.919 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:47.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:48.218 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:11:48.226 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:48.226 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:48.227 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:48.227 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:48.228 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:48.229 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:48.229 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 310.2315ms
2023-06-26 18:11:48.229 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:48.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 241826 application/json;+charset=utf-8 311.3059ms
2023-06-26 18:11:48.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:11:48.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:48.529 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:48.529 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:48.529 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:48.530 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:48.531 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 304.1027ms
2023-06-26 18:11:48.531 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:48.531 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:48.532 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 241826 application/json;+charset=utf-8 305.4158ms
2023-06-26 18:11:48.850 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:11:48.858 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:48.858 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:48.858 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:48.858 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:48.859 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:48.860 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:48.862 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 332.4009ms
2023-06-26 18:11:48.862 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:48.862 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 241826 application/json;+charset=utf-8 333.3145ms
2023-06-26 18:11:49.136 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:11:49.153 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 294.5458ms
2023-06-26 18:11:49.153 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:49.153 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 241826 application/json;+charset=utf-8 295.3530ms
2023-06-26 18:11:58.010 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1006&newOrderStatusId=3 - -
2023-06-26 18:11:58.011 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.011 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1006&newOrderStatusId=3 - - - 204 - - 0.3415ms
2023-06-26 18:11:58.011 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1006&newOrderStatusId=3 application/json 4
2023-06-26 18:11:58.011 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.012 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:11:58.012 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:58.012 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:58.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:11:58.015 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:11:58.016 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:11:58.021 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:11:58.021 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 9.4894ms
2023-06-26 18:11:58.021 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:11:58.021 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1006&newOrderStatusId=3 application/json 4 - 200 - - 10.2230ms
2023-06-26 18:11:58.023 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:11:58.023 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.023 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1774ms
2023-06-26 18:11:58.024 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:11:58.024 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.024 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:11:58.024 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:58.025 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:58.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:58.348 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:11:58.369 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 344.966ms
2023-06-26 18:11:58.369 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:11:58.369 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1220943 application/json;+charset=utf-8 345.5930ms
2023-06-26 18:11:58.375 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:58.375 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.375 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.4158ms
2023-06-26 18:11:58.379 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:58.379 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:58.379 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.379 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.379 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.4004ms
2023-06-26 18:11:58.379 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:58.379 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:58.380 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:58.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:58.615 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:11:58.616 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 236.1548ms
2023-06-26 18:11:58.616 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:58.616 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 237.2583ms
2023-06-26 18:11:58.617 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:58.617 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.617 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:58.617 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:58.618 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:58.619 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:58.893 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:11:58.893 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 275.3976ms
2023-06-26 18:11:58.893 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:58.893 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 276.2684ms
2023-06-26 18:11:58.894 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:58.894 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:58.894 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:58.894 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:58.895 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:58.896 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:59.215 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:11:59.215 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 321.238ms
2023-06-26 18:11:59.216 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:59.216 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 322.1484ms
2023-06-26 18:11:59.217 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:11:59.217 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:11:59.217 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:59.217 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:11:59.217 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:11:59.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:11:59.546 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:11:59.546 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 328.643ms
2023-06-26 18:11:59.546 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:11:59.546 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 329.5677ms
2023-06-26 18:12:24.559 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:12:24.559 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:24.559 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3642ms
2023-06-26 18:12:24.560 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:12:24.560 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:24.560 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:12:24.560 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:12:24.561 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:24.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:12:24.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:12:24.563 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.4723ms
2023-06-26 18:12:24.563 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:12:24.563 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.0254ms
2023-06-26 18:12:25.316 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:12:25.316 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:25.316 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3393ms
2023-06-26 18:12:25.317 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:12:25.317 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:25.317 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:12:25.317 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 18:12:25.318 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:25.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 18:12:25.319 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 18:12:25.816 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:12:25.848 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 530.3143ms
2023-06-26 18:12:25.848 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:12:25.848 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 530.9040ms
2023-06-26 18:12:27.290 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:12:27.290 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:27.290 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.3789ms
2023-06-26 18:12:27.291 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:12:27.291 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:27.291 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:12:27.291 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:12:27.292 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:27.293 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 18:12:27.660 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 18:12:27.698 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 406.9571ms
2023-06-26 18:12:27.698 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:12:27.699 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 407.6807ms
2023-06-26 18:12:32.784 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:12:32.784 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:32.784 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3088ms
2023-06-26 18:12:32.784 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:12:32.784 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:32.784 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:12:32.785 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:12:32.785 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5734ms
2023-06-26 18:12:32.786 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=dZKmZgNM-zh_iIToQXUZmA - -
2023-06-26 18:12:32.787 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:32.787 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:12:32.789 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:12:32.790 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:32.790 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1483ms
2023-06-26 18:12:32.790 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:12:32.790 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:32.791 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:12:32.791 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 18:12:32.791 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:32.792 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 18:12:32.793 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:12:32.793 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.7117ms
2023-06-26 18:12:32.793 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:12:32.793 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.2109ms
2023-06-26 18:12:36.694 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 18:12:36.695 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.695 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3420ms
2023-06-26 18:12:36.695 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153
2023-06-26 18:12:36.695 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.696 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:36.696 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:36.696 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:36.697 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:12:36.699 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 22
2023-06-26 18:12:36.739 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 18:12:36.740 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:12:36.740 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p5, @p6, @p7);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:12:36.745 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:12:36.745 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 49.4682ms
2023-06-26 18:12:36.745 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:36.746 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 153 - 200 - - 50.1844ms
2023-06-26 18:12:36.754 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:12:36.754 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:36.755 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.757 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.757 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 3.6526ms
2023-06-26 18:12:36.757 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 3.6208ms
2023-06-26 18:12:36.758 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:12:36.758 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.758 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:12:36.758 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:12:36.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:36.758 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.4693ms
2023-06-26 18:12:36.758 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.758 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:36.759 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:36.759 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:36.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=_yFhjY2Peyjn3Drvc6awWA - -
2023-06-26 18:12:36.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:36.760 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.761 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:12:36.790 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:12:36.790 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.790 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4168ms
2023-06-26 18:12:36.790 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:12:36.790 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.790 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1964ms
2023-06-26 18:12:36.791 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:12:36.791 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:36.792 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:12:36.792 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:36.792 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:36.793 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:37.133 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:12:37.140 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:12:37.141 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 382.6689ms
2023-06-26 18:12:37.141 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:37.141 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 180757 application/json;+charset=utf-8 383.1969ms
2023-06-26 18:12:37.152 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:12:37.152 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:37.152 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:12:37.152 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:37.153 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:37.154 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:37.168 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 376.1251ms
2023-06-26 18:12:37.168 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:12:37.168 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1401700 application/json;+charset=utf-8 376.9320ms
2023-06-26 18:12:37.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:12:37.494 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 341.1695ms
2023-06-26 18:12:37.494 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:12:37.494 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1401700 application/json;+charset=utf-8 342.1620ms
2023-06-26 18:12:43.233 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1007&newOrderStatusId=2 - -
2023-06-26 18:12:43.234 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:43.234 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1007&newOrderStatusId=2 - - - 204 - - 0.3431ms
2023-06-26 18:12:43.234 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1007&newOrderStatusId=2 application/json 4
2023-06-26 18:12:43.235 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:43.235 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:12:43.235 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:43.235 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:43.237 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:12:43.238 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:12:43.239 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:12:43.247 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:12:43.247 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 12.2978ms
2023-06-26 18:12:43.247 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:12:43.248 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1007&newOrderStatusId=2 application/json 4 - 200 - - 13.0958ms
2023-06-26 18:12:43.249 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:12:43.249 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:43.250 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.2424ms
2023-06-26 18:12:43.250 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:12:43.250 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:43.250 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:12:43.250 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:43.251 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:43.252 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:43.572 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:12:43.597 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 346.8234ms
2023-06-26 18:12:43.597 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:12:43.598 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1401696 application/json;+charset=utf-8 347.5253ms
2023-06-26 18:12:43.644 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:43.645 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:43.645 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.4769ms
2023-06-26 18:12:43.645 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:43.645 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:43.645 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.1910ms
2023-06-26 18:12:43.646 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:43.646 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:43.647 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:43.647 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:43.648 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:43.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:44.010 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:12:44.017 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:44.017 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:44.018 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:44.018 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:44.018 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 371.6868ms
2023-06-26 18:12:44.018 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:44.018 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:44.019 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 180753 application/json;+charset=utf-8 372.5020ms
2023-06-26 18:12:44.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:44.386 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:12:44.393 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:44.393 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:44.394 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:44.394 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:44.394 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:44.395 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:44.397 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 378.8023ms
2023-06-26 18:12:44.397 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:44.397 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 180753 application/json;+charset=utf-8 379.6829ms
2023-06-26 18:12:44.673 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:12:44.681 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:44.681 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:44.682 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:44.682 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:44.682 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:44.683 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 289.3743ms
2023-06-26 18:12:44.683 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:44.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:44.684 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 180753 application/json;+charset=utf-8 290.5625ms
2023-06-26 18:12:45.016 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:12:45.023 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:45.023 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:45.024 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:45.024 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:45.024 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:45.025 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:45.026 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 344.5368ms
2023-06-26 18:12:45.027 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:45.027 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 180753 application/json;+charset=utf-8 345.5231ms
2023-06-26 18:12:45.345 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:12:45.354 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 329.8388ms
2023-06-26 18:12:45.354 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:45.354 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 180753 application/json;+charset=utf-8 330.5951ms
2023-06-26 18:12:49.810 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1007&newOrderStatusId=3 - -
2023-06-26 18:12:49.810 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:49.810 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1007&newOrderStatusId=3 - - - 204 - - 0.3604ms
2023-06-26 18:12:49.811 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1007&newOrderStatusId=3 application/json 4
2023-06-26 18:12:49.811 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:49.811 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:12:49.811 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:49.811 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:49.813 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:12:49.814 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:12:49.815 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:12:49.816 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:12:49.816 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 5.0624ms
2023-06-26 18:12:49.816 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:12:49.816 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1007&newOrderStatusId=3 application/json 4 - 200 - - 5.7905ms
2023-06-26 18:12:49.818 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:12:49.818 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:49.818 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1787ms
2023-06-26 18:12:49.819 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:12:49.819 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:49.819 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:12:49.819 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:49.820 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:49.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:50.157 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:12:50.180 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 360.9832ms
2023-06-26 18:12:50.180 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:12:50.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1401696 application/json;+charset=utf-8 361.6403ms
2023-06-26 18:12:50.189 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:50.189 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:50.193 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:50.193 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:50.193 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:50.193 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:50.193 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:50.193 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:50.193 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.5958ms
2023-06-26 18:12:50.193 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:50.194 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:50.194 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 5.0460ms
2023-06-26 18:12:50.194 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 5.0614ms
2023-06-26 18:12:50.194 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 5.1378ms
2023-06-26 18:12:50.194 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 1.4740ms
2023-06-26 18:12:50.195 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:50.195 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:50.196 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:50.196 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:50.196 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:50.197 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:50.528 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:12:50.528 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 332.1143ms
2023-06-26 18:12:50.528 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:50.528 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 332.9300ms
2023-06-26 18:12:50.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:50.529 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:50.530 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:50.530 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:50.530 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:50.531 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:50.796 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:12:50.796 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 266.2001ms
2023-06-26 18:12:50.796 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:50.796 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 267.1205ms
2023-06-26 18:12:50.797 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:50.797 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:50.798 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:50.798 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:50.798 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:50.799 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:51.063 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:12:51.063 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 265.2134ms
2023-06-26 18:12:51.063 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:51.063 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 266.0999ms
2023-06-26 18:12:51.064 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:51.064 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:51.064 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:51.064 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:51.065 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:51.066 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:51.400 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:12:51.400 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 335.3636ms
2023-06-26 18:12:51.400 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:51.400 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 336.1861ms
2023-06-26 18:12:51.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:12:51.401 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:12:51.401 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:51.401 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:12:51.402 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:12:51.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:12:51.715 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:12:51.715 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 314.4084ms
2023-06-26 18:12:51.716 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:12:51.716 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 315.2576ms
2023-06-26 18:13:44.804 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:13:44.804 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:44.804 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:13:44.804 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:44.804 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3354ms
2023-06-26 18:13:44.804 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.1535ms
2023-06-26 18:13:44.805 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:13:44.805 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:44.805 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:13:44.805 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:13:44.805 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:44.806 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:13:44.806 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5437ms
2023-06-26 18:13:44.806 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:13:44.806 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:13:44.807 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:13:44.808 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:13:44.809 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=ypeb9ga_EVNLu5U8tBL3Bg - -
2023-06-26 18:13:44.809 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:44.809 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:13:45.146 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:13:45.146 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 340.3576ms
2023-06-26 18:13:45.146 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:13:45.147 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 341.3224ms
2023-06-26 18:13:49.371 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:13:49.371 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:49.372 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:13:49.372 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:13:49.373 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:13:49.373 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:13:49.373 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:49.373 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.2416ms
2023-06-26 18:13:49.374 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:13:49.377 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:13:49.377 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:49.377 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:13:49.377 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:13:49.378 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.8144ms
2023-06-26 18:13:49.380 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=WIz_Ce4RwEgSIvK1Cl6_fg - -
2023-06-26 18:13:49.380 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:49.380 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:13:49.713 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:13:49.713 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 341.0056ms
2023-06-26 18:13:49.713 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:13:49.713 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 342.3394ms
2023-06-26 18:13:51.820 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:13:51.821 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:51.821 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.5839ms
2023-06-26 18:13:51.822 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:13:51.822 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:51.822 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:13:51.822 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:13:51.823 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:13:51.823 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:13:51.824 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:13:51.824 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.3703ms
2023-06-26 18:13:51.825 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:13:51.825 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 2.8877ms
2023-06-26 18:13:52.664 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:13:52.664 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:52.664 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3429ms
2023-06-26 18:13:52.665 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:13:52.665 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:52.665 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:13:52.665 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 18:13:52.665 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:13:52.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 18:13:52.667 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 18:13:53.154 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:13:53.185 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 519.5716ms
2023-06-26 18:13:53.185 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:13:53.185 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 520.2040ms
2023-06-26 18:13:53.678 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 18:13:53.678 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:53.678 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 204 - - 0.3306ms
2023-06-26 18:13:53.679 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 18:13:53.679 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:53.679 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:13:53.680 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:13:53.680 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:13:53.681 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 18:13:54.041 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 18:13:54.042 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 362.3832ms
2023-06-26 18:13:54.042 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:13:54.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 200 15 application/json;+charset=utf-8 362.9408ms
2023-06-26 18:13:54.780 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:13:54.780 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:54.781 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:13:54.781 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:13:54.781 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:13:54.782 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:13:54.783 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:13:54.784 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.6785ms
2023-06-26 18:13:54.784 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:13:54.784 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.4943ms
2023-06-26 18:13:56.427 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:13:56.428 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:56.428 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:13:56.428 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 18:13:56.428 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:13:56.429 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 18:13:56.430 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 18:13:56.934 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:13:56.963 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 535.324ms
2023-06-26 18:13:56.963 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:13:56.964 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 536.1114ms
2023-06-26 18:13:57.330 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:13:57.330 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:57.330 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.4095ms
2023-06-26 18:13:57.331 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:13:57.331 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:13:57.331 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:13:57.331 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:13:57.332 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:13:57.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 18:13:57.676 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 18:13:57.699 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 367.2959ms
2023-06-26 18:13:57.699 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:13:57.699 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 368.0131ms
2023-06-26 18:14:07.515 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:14:07.516 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:07.516 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3562ms
2023-06-26 18:14:07.516 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:14:07.516 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:07.517 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:14:07.517 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:14:07.517 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5116ms
2023-06-26 18:14:07.518 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=bzTPLUdxbwQamYiqyqxZEw - -
2023-06-26 18:14:07.519 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:07.519 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:14:07.522 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:14:07.522 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:07.522 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1393ms
2023-06-26 18:14:07.523 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:14:07.523 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:07.523 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:14:07.523 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 18:14:07.523 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:07.524 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 18:14:07.525 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:14:07.525 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.6312ms
2023-06-26 18:14:07.526 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:14:07.526 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.0619ms
2023-06-26 18:14:13.010 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 18:14:13.010 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.010 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3325ms
2023-06-26 18:14:13.011 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156
2023-06-26 18:14:13.011 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.011 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:13.011 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:13.012 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:13.013 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:14:13.015 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 21
2023-06-26 18:14:13.111 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 18:14:13.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:14:13.113 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p5, @p6, @p7);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:14:13.124 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:13.124 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 112.8377ms
2023-06-26 18:14:13.124 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:13.125 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156 - 200 - - 113.5610ms
2023-06-26 18:14:13.130 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:14:13.130 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.132 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:14:13.132 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 2.0376ms
2023-06-26 18:14:13.132 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.132 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4729ms
2023-06-26 18:14:13.133 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:14:13.134 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:14:13.134 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:13.134 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.134 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.2070ms
2023-06-26 18:14:13.134 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.135 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.136 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:13.137 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 4.5442ms
2023-06-26 18:14:13.137 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:14:13.137 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.137 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:14:13.138 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.140 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:14:13.141 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:13.142 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:13.142 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:14:13.142 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 5.2462ms
2023-06-26 18:14:13.143 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:13.145 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=C9r0a8V-5P2vcShO3eLdvg - -
2023-06-26 18:14:13.146 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.149 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:14:13.150 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:13.153 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:13.154 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:13.154 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:13.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:13.727 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 582.8022ms
2023-06-26 18:14:13.727 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:13.727 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399186 application/json;+charset=utf-8 591.7698ms
2023-06-26 18:14:13.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:14:13.780 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:14:13.780 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:13.780 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:14:13.780 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:13.781 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:13.782 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:13.802 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 661.3348ms
2023-06-26 18:14:13.802 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:14:13.802 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1800882 application/json;+charset=utf-8 668.5786ms
2023-06-26 18:14:14.237 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:14:14.299 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 518.3239ms
2023-06-26 18:14:14.299 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:14:14.299 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1800882 application/json;+charset=utf-8 519.2922ms
2023-06-26 18:14:17.193 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1008&newOrderStatusId=2 - -
2023-06-26 18:14:17.194 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:17.194 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1008&newOrderStatusId=2 - - - 204 - - 0.3337ms
2023-06-26 18:14:17.195 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1008&newOrderStatusId=2 application/json 4
2023-06-26 18:14:17.195 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:17.195 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:14:17.195 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:17.196 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:17.197 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:14:17.199 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:14:17.200 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:14:17.200 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:17.200 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 5.0313ms
2023-06-26 18:14:17.200 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:14:17.201 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1008&newOrderStatusId=2 application/json 4 - 200 - - 5.9789ms
2023-06-26 18:14:17.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:14:17.203 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:17.203 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:14:17.203 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:17.204 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:17.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:17.599 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:14:17.663 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 459.6349ms
2023-06-26 18:14:17.663 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:14:17.663 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1800878 application/json;+charset=utf-8 460.3306ms
2023-06-26 18:14:17.670 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:17.674 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:17.682 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:17.683 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:17.684 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:17.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:18.139 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:18.148 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:18.148 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:18.148 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:18.148 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:18.149 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:18.150 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:18.153 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 469.7955ms
2023-06-26 18:14:18.153 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:18.153 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 482.8274ms
2023-06-26 18:14:18.566 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:18.575 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:18.575 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:18.576 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:18.576 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:18.577 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:18.578 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:18.581 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 432.3333ms
2023-06-26 18:14:18.581 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:18.581 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 433.1637ms
2023-06-26 18:14:18.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:18.981 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:18.981 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:18.982 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:18.982 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:18.983 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:18.984 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:18.987 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 411.2755ms
2023-06-26 18:14:18.987 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:18.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 412.1727ms
2023-06-26 18:14:19.380 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:19.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:19.390 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:19.390 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:19.390 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:19.391 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:19.392 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:19.397 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 414.8142ms
2023-06-26 18:14:19.397 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:19.397 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 415.7437ms
2023-06-26 18:14:19.812 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:19.821 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:19.821 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:19.822 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:19.822 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:19.823 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:19.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:19.828 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 437.6217ms
2023-06-26 18:14:19.828 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:19.828 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 438.4742ms
2023-06-26 18:14:20.255 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:20.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:20.264 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:20.265 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:20.265 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:20.266 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:20.267 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:20.270 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 447.9357ms
2023-06-26 18:14:20.270 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:20.270 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 448.7137ms
2023-06-26 18:14:20.697 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:20.706 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:20.706 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:20.707 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:20.707 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:20.708 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:20.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:20.712 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 446.7204ms
2023-06-26 18:14:20.712 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:20.712 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 447.7622ms
2023-06-26 18:14:21.150 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:14:21.161 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 454.244ms
2023-06-26 18:14:21.161 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:21.162 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 455.4230ms
2023-06-26 18:14:25.804 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1008&newOrderStatusId=3 - -
2023-06-26 18:14:25.804 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:25.804 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1008&newOrderStatusId=3 - - - 204 - - 0.3157ms
2023-06-26 18:14:25.805 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1008&newOrderStatusId=3 application/json 4
2023-06-26 18:14:25.805 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:25.805 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:14:25.805 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:25.806 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:25.807 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:14:25.809 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:14:25.810 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:14:25.818 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:25.818 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 12.6642ms
2023-06-26 18:14:25.818 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:14:25.818 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1008&newOrderStatusId=3 application/json 4 - 200 - - 13.4658ms
2023-06-26 18:14:25.820 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:14:25.820 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:25.820 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1731ms
2023-06-26 18:14:25.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:14:25.821 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:25.821 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:14:25.821 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:25.821 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:25.822 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:26.256 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:14:26.317 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 496.5215ms
2023-06-26 18:14:26.318 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:14:26.318 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 1800878 application/json;+charset=utf-8 497.1853ms
2023-06-26 18:14:26.328 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.328 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.328 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.332 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.328 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.333 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.333 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.332 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.333 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.333 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.333 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 4.5731ms
2023-06-26 18:14:26.334 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.333 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 4.5337ms
2023-06-26 18:14:26.333 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 5.4294ms
2023-06-26 18:14:26.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 5.5402ms
2023-06-26 18:14:26.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 5.5474ms
2023-06-26 18:14:26.334 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.334 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 1.6198ms
2023-06-26 18:14:26.334 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.334 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.1485ms
2023-06-26 18:14:26.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.1517ms
2023-06-26 18:14:26.335 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.335 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.335 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:26.335 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:26.336 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:26.337 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:26.741 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:26.741 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 406.104ms
2023-06-26 18:14:26.741 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:26.742 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 406.9853ms
2023-06-26 18:14:26.743 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:26.743 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:26.743 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:26.743 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:26.744 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:26.745 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:27.171 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:27.171 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 427.7603ms
2023-06-26 18:14:27.171 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:27.171 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 428.6229ms
2023-06-26 18:14:27.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:27.172 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:27.172 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:27.172 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:27.173 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:27.174 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:27.592 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:27.592 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 419.8471ms
2023-06-26 18:14:27.592 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:27.593 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 420.6520ms
2023-06-26 18:14:27.593 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:27.593 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:27.594 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:27.594 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:27.594 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:27.595 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:28.020 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:28.020 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 426.3153ms
2023-06-26 18:14:28.020 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:28.020 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 427.2279ms
2023-06-26 18:14:28.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:28.021 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:28.021 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:28.021 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:28.022 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:28.023 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:28.458 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:28.458 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 436.9472ms
2023-06-26 18:14:28.459 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:28.459 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 437.8932ms
2023-06-26 18:14:28.460 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:28.460 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:28.460 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:28.460 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:28.461 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:28.461 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:28.911 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:28.912 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 451.5586ms
2023-06-26 18:14:28.912 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:28.912 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 452.5703ms
2023-06-26 18:14:28.913 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:28.913 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:28.913 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:28.913 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:28.914 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:28.915 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:29.319 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:29.319 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 405.5002ms
2023-06-26 18:14:29.319 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:29.319 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 406.4189ms
2023-06-26 18:14:29.320 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:29.320 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:29.320 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:29.320 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:29.321 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:29.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:29.728 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:29.728 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 407.4019ms
2023-06-26 18:14:29.728 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:29.728 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 408.3013ms
2023-06-26 18:14:58.806 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:58.806 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:58.806 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.6438ms
2023-06-26 18:14:58.806 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:14:58.807 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:58.807 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.1863ms
2023-06-26 18:14:58.807 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:14:58.807 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:58.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:14:58.807 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:14:58.808 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:58.808 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:14:58.808 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:58.808 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5653ms
2023-06-26 18:14:58.808 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:14:58.808 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:14:58.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:14:58.810 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=9J7AIuqWe1gX2icBie4HXQ - -
2023-06-26 18:14:58.810 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:14:58.810 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:14:59.251 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:14:59.251 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 443.5269ms
2023-06-26 18:14:59.251 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:14:59.252 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 444.5028ms
2023-06-26 18:15:03.268 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:15:03.268 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:03.268 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3444ms
2023-06-26 18:15:03.269 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:15:03.269 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:03.269 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:15:03.270 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:15:03.270 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:03.271 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:15:03.271 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:15:03.272 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.6184ms
2023-06-26 18:15:03.272 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:15:03.272 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.1661ms
2023-06-26 18:15:04.090 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:15:04.090 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:04.090 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3137ms
2023-06-26 18:15:04.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 18:15:04.091 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:04.091 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:15:04.091 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 18:15:04.092 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:04.092 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 18:15:04.093 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 18:15:04.557 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:15:04.590 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 498.9414ms
2023-06-26 18:15:04.590 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 18:15:04.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 499.5691ms
2023-06-26 18:15:05.693 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:15:05.694 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:05.694 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.4504ms
2023-06-26 18:15:05.695 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 18:15:05.695 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:05.695 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:15:05.695 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:15:05.696 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:05.697 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 18:15:06.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 18:15:06.087 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 391.3697ms
2023-06-26 18:15:06.087 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 18:15:06.087 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 392.0567ms
2023-06-26 18:15:12.861 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:15:12.861 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:12.861 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3379ms
2023-06-26 18:15:12.862 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:15:12.862 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:12.862 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:15:12.862 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:15:12.862 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5693ms
2023-06-26 18:15:12.864 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=AhRe83DOkkQEdtcZty5LNQ - -
2023-06-26 18:15:12.864 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:12.864 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:15:12.867 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:15:12.867 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:12.867 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1467ms
2023-06-26 18:15:12.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 18:15:12.868 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:12.868 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:15:12.868 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 18:15:12.869 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:12.870 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 18:15:12.871 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:15:12.871 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.7452ms
2023-06-26 18:15:12.871 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 18:15:12.871 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.2274ms
2023-06-26 18:15:13.755 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 18:15:13.755 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.755 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3038ms
2023-06-26 18:15:13.755 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156
2023-06-26 18:15:13.756 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.756 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:13.756 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:13.756 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:13.757 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:15:13.759 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = 21
2023-06-26 18:15:13.862 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 18:15:13.863 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:15:13.863 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p5, @p6, @p7);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 18:15:13.864 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:13.864 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 108.5602ms
2023-06-26 18:15:13.864 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:13.865 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 156 - 200 - - 109.2676ms
2023-06-26 18:15:13.874 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:13.873 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:15:13.874 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 18:15:13.875 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:15:13.877 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.877 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.877 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.877 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.878 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 4.6298ms
2023-06-26 18:15:13.878 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 4.6298ms
2023-06-26 18:15:13.878 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:13.878 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:15:13.878 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.878 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.881 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 3.4544ms
2023-06-26 18:15:13.881 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:15:13.881 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:13.881 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 6.2997ms
2023-06-26 18:15:13.881 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:13.881 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:13.881 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 18:15:13.881 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.881 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:13.881 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:13.881 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 18:15:13.882 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 18:15:13.882 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5239ms
2023-06-26 18:15:13.883 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:13.883 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:13.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=p55XAQNF7mxp4p2PfyfjEw - -
2023-06-26 18:15:13.885 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:13.885 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 18:15:14.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:15:14.535 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:15:14.535 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:14.536 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:15:14.536 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:14.536 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:14.537 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:14.539 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:14.583 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 702.4503ms
2023-06-26 18:15:14.584 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:14.584 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399186 application/json;+charset=utf-8 705.6326ms
2023-06-26 18:15:14.595 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 713.6994ms
2023-06-26 18:15:14.595 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:15:14.595 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 2200064 application/json;+charset=utf-8 716.6502ms
2023-06-26 18:15:15.086 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:15:15.120 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 583.9086ms
2023-06-26 18:15:15.120 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:15:15.120 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 2200064 application/json;+charset=utf-8 584.7896ms
2023-06-26 18:15:15.969 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1009&newOrderStatusId=2 - -
2023-06-26 18:15:15.969 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:15.969 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1009&newOrderStatusId=2 - - - 204 - - 0.3728ms
2023-06-26 18:15:15.970 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1009&newOrderStatusId=2 application/json 4
2023-06-26 18:15:15.970 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:15.970 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:15:15.970 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:15.971 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:15.972 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:15:15.974 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:15:15.975 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:15:15.981 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:15.981 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 10.2828ms
2023-06-26 18:15:15.981 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:15:15.981 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1009&newOrderStatusId=2 application/json 4 - 200 - - 11.4662ms
2023-06-26 18:15:15.986 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:15:15.986 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:15.986 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:15:15.986 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:15.987 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:15.988 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:16.540 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:15:16.574 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 587.3087ms
2023-06-26 18:15:16.574 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:15:16.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 2200060 application/json;+charset=utf-8 588.1281ms
2023-06-26 18:15:16.585 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:16.593 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:16.596 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:16.596 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:16.597 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:16.598 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:17.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:17.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:17.098 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:17.098 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:17.098 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:17.099 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:17.100 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:17.103 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 506.5746ms
2023-06-26 18:15:17.103 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:17.103 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 520.2275ms
2023-06-26 18:15:17.589 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:17.598 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:17.598 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:17.599 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:17.599 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:17.600 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:17.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:17.607 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 508.7115ms
2023-06-26 18:15:17.607 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:17.607 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 509.5008ms
2023-06-26 18:15:18.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:18.211 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:18.211 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:18.211 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:18.212 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:18.212 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:18.213 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:18.219 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 620.4914ms
2023-06-26 18:15:18.219 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:18.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 621.3224ms
2023-06-26 18:15:18.815 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:18.823 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:18.824 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:18.824 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:18.824 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:18.824 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:18.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:18.829 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 617.3746ms
2023-06-26 18:15:18.829 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:18.829 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 618.3258ms
2023-06-26 18:15:19.370 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:19.384 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:19.384 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:19.385 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:19.385 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:19.385 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:19.386 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:19.389 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 565.0381ms
2023-06-26 18:15:19.389 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:19.389 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 565.7735ms
2023-06-26 18:15:19.930 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:19.939 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:19.940 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:19.940 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:19.940 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:19.941 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:19.942 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:19.949 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 563.776ms
2023-06-26 18:15:19.949 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:19.949 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 564.6285ms
2023-06-26 18:15:20.465 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:20.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:20.474 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:20.474 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:20.475 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:20.475 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:20.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:20.484 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 543.595ms
2023-06-26 18:15:20.484 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:20.484 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 544.3929ms
2023-06-26 18:15:21.000 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:21.008 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:21.008 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:21.009 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:21.009 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:21.010 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:21.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:21.016 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 541.1835ms
2023-06-26 18:15:21.016 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:21.016 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 541.9231ms
2023-06-26 18:15:21.553 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:21.562 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:21.562 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:21.562 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:21.562 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:21.563 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:21.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:21.567 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 558.3737ms
2023-06-26 18:15:21.567 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:21.567 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 559.2033ms
2023-06-26 18:15:22.072 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 18:15:22.084 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 522.2472ms
2023-06-26 18:15:22.085 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:22.085 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 399182 application/json;+charset=utf-8 523.0493ms
2023-06-26 18:15:24.305 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1009&newOrderStatusId=3 - -
2023-06-26 18:15:24.306 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:24.306 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1009&newOrderStatusId=3 - - - 204 - - 0.3449ms
2023-06-26 18:15:24.306 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1009&newOrderStatusId=3 application/json 4
2023-06-26 18:15:24.306 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:24.307 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:15:24.307 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:24.307 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:24.308 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:15:24.310 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 18:15:24.311 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 18:15:24.312 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:24.312 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 5.5908ms
2023-06-26 18:15:24.312 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 18:15:24.313 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1009&newOrderStatusId=3 application/json 4 - 200 - - 6.3292ms
2023-06-26 18:15:24.314 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:15:24.314 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:24.314 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1777ms
2023-06-26 18:15:24.315 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 18:15:24.315 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:24.315 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:15:24.315 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:24.315 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:24.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:24.852 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:15:24.884 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 568.7463ms
2023-06-26 18:15:24.884 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 18:15:24.884 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 2200060 application/json;+charset=utf-8 569.3197ms
2023-06-26 18:15:24.893 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:24.893 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:24.893 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.9422ms
2023-06-26 18:15:24.894 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:24.894 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:24.894 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.2215ms
2023-06-26 18:15:24.895 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:24.895 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:24.895 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:24.895 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:24.896 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:24.897 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:25.407 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:25.407 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 511.3088ms
2023-06-26 18:15:25.407 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:25.407 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 512.3930ms
2023-06-26 18:15:25.408 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:25.408 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:25.409 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:25.409 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:25.409 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:25.410 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:25.928 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:25.928 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 519.721ms
2023-06-26 18:15:25.928 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:25.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 520.6071ms
2023-06-26 18:15:25.929 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:25.930 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:25.930 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:25.930 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:25.930 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:25.931 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:26.439 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:26.439 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 508.8837ms
2023-06-26 18:15:26.439 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:26.439 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 509.7857ms
2023-06-26 18:15:26.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:26.440 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:26.440 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:26.440 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:26.441 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:26.442 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:26.979 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:26.979 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 538.6217ms
2023-06-26 18:15:26.979 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:26.979 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 539.5554ms
2023-06-26 18:15:26.980 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:26.980 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:26.980 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:26.980 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:26.981 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:26.982 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:27.502 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:27.502 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 521.5266ms
2023-06-26 18:15:27.502 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:27.502 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 522.3794ms
2023-06-26 18:15:27.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:27.503 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:27.503 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:27.503 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:27.504 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:27.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:28.045 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:28.045 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 541.3806ms
2023-06-26 18:15:28.045 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:28.045 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 542.2282ms
2023-06-26 18:15:28.046 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:28.046 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:28.046 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:28.046 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:28.047 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:28.048 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:28.567 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:28.568 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 520.9986ms
2023-06-26 18:15:28.568 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:28.568 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 521.9107ms
2023-06-26 18:15:28.569 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:28.569 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:28.569 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:28.569 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:28.569 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:28.570 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:29.103 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:29.103 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 534.0329ms
2023-06-26 18:15:29.103 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:29.103 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 534.8152ms
2023-06-26 18:15:29.104 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:29.104 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:29.104 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:29.104 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:29.105 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:29.106 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:29.589 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:29.589 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 484.5158ms
2023-06-26 18:15:29.589 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:29.589 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 485.3727ms
2023-06-26 18:15:29.590 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 18:15:29.590 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:29.590 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:29.590 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 18:15:29.591 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:29.592 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 18:15:30.140 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 18:15:30.140 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 549.6519ms
2023-06-26 18:15:30.140 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 18:15:30.140 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 550.4562ms
2023-06-26 18:15:34.160 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:15:34.160 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:34.160 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3482ms
2023-06-26 18:15:34.161 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 18:15:34.161 +03:00 [INF] CORS policy execution successful.
2023-06-26 18:15:34.161 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:15:34.162 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 18:15:34.162 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 18:15:34.163 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 18:15:34.164 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 18:15:34.165 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 3.1623ms
2023-06-26 18:15:34.165 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 18:15:34.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.7221ms
2023-06-26 18:17:09.317 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 18:17:09.317 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 18:17:09.317 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=xtwgE6Ogagrhn0fKRvOw5A - - - 101 - - 560343.6679ms
2023-06-26 18:17:09.317 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=94eNNvX47QFeQKpeYbnL6A - - - 101 - - 374608.1439ms
2023-06-26 20:45:07.190 +03:00 [INF] User profile is available. Using 'C:\Users\zkato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-26 20:45:08.210 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:45:08.573 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-26 20:45:08.611 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-26 20:45:08.622 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:45:08.893 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ToDoItems] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-06-26 20:45:08.972 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-26 20:45:08.972 +03:00 [INF] Hosting environment: Development
2023-06-26 20:45:08.972 +03:00 [INF] Content root path: C:\Users\zkato\Source\Repos\Cantina_UPT_API_Safe\src\CantinaUPT_API.Web\
2023-06-26 20:45:08.995 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2023-06-26 20:45:09.064 +03:00 [WRN] Failed to determine the https port for redirect.
2023-06-26 20:45:09.206 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-26 20:45:09.214 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller CantinaUPT_API.Web.Controllers.HomeController (CantinaUPT_API.Web).
2023-06-26 20:45:09.224 +03:00 [INF] Executing ViewResult, running view Index.
2023-06-26 20:45:09.423 +03:00 [INF] Executed ViewResult - view Index executed in 201.2745ms.
2023-06-26 20:45:09.429 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web) in 214.5244ms
2023-06-26 20:45:09.429 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-26 20:45:09.468 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2023-06-26 20:45:09.469 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2023-06-26 20:45:09.476 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 6.5557ms
2023-06-26 20:45:09.481 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 489.4317ms
2023-06-26 20:45:09.524 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.7807ms
2023-06-26 20:45:15.718 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 20:45:15.721 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:45:15.722 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 4.1378ms
2023-06-26 20:45:15.725 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 20:45:15.726 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:45:15.858 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 20:45:15.861 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:45:15.972 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:45:16.042 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 20:45:16.123 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:45:16.196 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 335.0506ms
2023-06-26 20:45:16.196 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 20:45:16.200 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 474.8288ms
2023-06-26 20:49:50.475 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - -
2023-06-26 20:49:50.477 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:49:50.477 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - - - 204 - - 2.1687ms
2023-06-26 20:49:50.479 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 66
2023-06-26 20:49:50.480 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:49:50.480 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 20:49:50.488 +03:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CantinaUPT_API.Web.ApiModels.LoginRequestDTO) on controller CantinaUPT_API.Web.Controllers.AuthController (CantinaUPT_API.Web).
2023-06-26 20:49:50.538 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:49:50.666 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Username_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleName], [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Canteens] AS [c] ON [u].[CanteenId] = [c].[Id]
WHERE ([u].[Username] = @__user_Username_0) OR ([u].[Email] = @__user_Email_1)
2023-06-26 20:49:50.705 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Core.ProjectAggregate.LoginResponse'.
2023-06-26 20:49:50.707 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web) in 218.7396ms
2023-06-26 20:49:50.707 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 20:49:50.707 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 66 - 200 460 application/json;+charset=utf-8 228.3504ms
2023-06-26 20:49:52.306 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategories - -
2023-06-26 20:49:52.306 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/portion/GetAllPortions - -
2023-06-26 20:49:52.307 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:49:52.307 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:49:52.307 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/portion/GetAllPortions - - - 204 - - 0.3807ms
2023-06-26 20:49:52.307 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategories - - - 204 - - 0.5316ms
2023-06-26 20:49:52.308 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategories - -
2023-06-26 20:49:52.309 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:49:52.309 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/portion/GetAllPortions - -
2023-06-26 20:49:52.309 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:49:52.310 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web)'
2023-06-26 20:49:52.312 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:49:52.314 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:49:52.314 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web)'
2023-06-26 20:49:52.316 +03:00 [INF] Route matched with {action = "GetAllPortions", controller = "Portion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPortions() on controller CantinaUPT_API.Web.Controllers.PortionController (CantinaUPT_API.Web).
2023-06-26 20:49:52.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:49:52.320 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:49:52.323 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.Category, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:49:52.328 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web) in 16.0781ms
2023-06-26 20:49:52.328 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web)'
2023-06-26 20:49:52.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategories - - - 200 314 application/json;+charset=utf-8 20.1200ms
2023-06-26 20:49:52.329 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
2023-06-26 20:49:52.333 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.Portion, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:49:52.334 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web) in 18.4549ms
2023-06-26 20:49:52.334 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web)'
2023-06-26 20:49:52.335 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/portion/GetAllPortions - - - 200 51 application/json;+charset=utf-8 25.8348ms
2023-06-26 20:50:44.516 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 20:50:44.516 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:50:44.517 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.7686ms
2023-06-26 20:50:44.518 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 210061
2023-06-26 20:50:44.520 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:50:44.520 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:50:44.522 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 20:50:44.557 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:50:44.566 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 20:50:44.570 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:50:44.708 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 20:50:44.755 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:50:44.774 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 20:50:44.779 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 20:50:44.779 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 257.1238ms
2023-06-26 20:50:44.779 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:50:44.779 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 210061 - 200 - - 261.1096ms
2023-06-26 20:51:15.480 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 20:51:15.480 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:51:15.480 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.4454ms
2023-06-26 20:51:15.481 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 244957
2023-06-26 20:51:15.481 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:51:15.482 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:51:15.482 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 20:51:15.488 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:51:15.492 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 20:51:15.495 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:51:15.497 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 20:51:15.503 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:51:15.504 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 20:51:15.504 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 20:51:15.505 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 22.7159ms
2023-06-26 20:51:15.505 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:51:15.505 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 244957 - 200 - - 23.7917ms
2023-06-26 20:52:10.666 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategories - -
2023-06-26 20:52:10.667 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:52:10.667 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/portion/GetAllPortions - -
2023-06-26 20:52:10.667 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategories - - - 204 - - 1.5194ms
2023-06-26 20:52:10.667 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:52:10.668 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/portion/GetAllPortions - - - 204 - - 1.5587ms
2023-06-26 20:52:10.669 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategories - -
2023-06-26 20:52:10.669 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:52:10.671 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/portion/GetAllPortions - -
2023-06-26 20:52:10.671 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:52:10.672 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web)'
2023-06-26 20:52:10.673 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:52:10.673 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web)'
2023-06-26 20:52:10.673 +03:00 [INF] Route matched with {action = "GetAllPortions", controller = "Portion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPortions() on controller CantinaUPT_API.Web.Controllers.PortionController (CantinaUPT_API.Web).
2023-06-26 20:52:10.674 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:52:10.674 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:52:10.675 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:52:10.676 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.Category, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:52:10.677 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web) in 4.0245ms
2023-06-26 20:52:10.677 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web)'
2023-06-26 20:52:10.677 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategories - - - 200 314 application/json;+charset=utf-8 8.4560ms
2023-06-26 20:52:10.683 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
2023-06-26 20:52:10.683 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.Portion, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:52:10.683 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web) in 10.0737ms
2023-06-26 20:52:10.683 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web)'
2023-06-26 20:52:10.683 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/portion/GetAllPortions - - - 200 51 application/json;+charset=utf-8 12.7791ms
2023-06-26 20:53:57.177 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 20:53:57.177 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:53:57.177 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.4260ms
2023-06-26 20:53:57.178 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 131503
2023-06-26 20:53:57.178 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:53:57.178 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:53:57.178 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 20:53:57.190 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:53:57.191 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 20:53:57.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:53:57.194 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 20:53:57.195 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:53:57.195 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 20:53:57.196 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 20:53:57.196 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 17.7198ms
2023-06-26 20:53:57.196 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:53:57.196 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 131503 - 200 - - 18.6059ms
2023-06-26 20:54:22.798 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 20:54:22.798 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:54:22.798 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.3389ms
2023-06-26 20:54:22.798 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 297539
2023-06-26 20:54:22.798 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:54:22.799 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:54:22.799 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 20:54:22.815 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:54:22.816 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 20:54:22.817 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:54:22.823 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 20:54:22.824 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:54:22.825 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 20:54:22.825 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 20:54:22.825 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 26.515ms
2023-06-26 20:54:22.825 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:54:22.826 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 297539 - 200 - - 27.3431ms
2023-06-26 20:55:23.593 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 20:55:23.593 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:55:23.594 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.4712ms
2023-06-26 20:55:23.596 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 1375750
2023-06-26 20:55:23.596 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:55:23.596 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:55:23.596 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 20:55:23.629 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:55:23.630 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 20:55:23.631 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:55:23.653 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 20:55:23.654 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:55:23.655 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 20:55:23.656 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 20:55:23.656 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 59.1433ms
2023-06-26 20:55:23.656 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:55:23.656 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 1375750 - 200 - - 60.0636ms
2023-06-26 20:55:48.485 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 20:55:48.486 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:55:48.486 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.3746ms
2023-06-26 20:55:48.486 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 323650
2023-06-26 20:55:48.486 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:55:48.487 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:55:48.487 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 20:55:48.502 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:55:48.503 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 20:55:48.504 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:55:48.510 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 20:55:48.517 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 20:55:48.518 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 20:55:48.518 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 20:55:48.518 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 31.1839ms
2023-06-26 20:55:48.518 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 20:55:48.518 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 323650 - 200 - - 32.1654ms
2023-06-26 20:55:53.011 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 20:55:53.013 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:55:53.013 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 20:55:53.013 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:55:53.014 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:55:53.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 20:55:53.015 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:55:53.015 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.408ms
2023-06-26 20:55:53.016 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 20:55:53.016 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 4.5801ms
2023-06-26 20:55:54.064 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:55:54.064 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:55:54.064 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:55:54.066 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:55:54.067 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:55:54.067 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:55:54.071 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:55:54.626 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:55:54.663 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 597.4292ms
2023-06-26 20:55:54.663 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:55:54.663 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 599.6775ms
2023-06-26 20:55:55.898 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 20:55:55.898 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:55:55.898 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:55:55.901 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:55:55.909 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:55:55.964 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 20:55:57.761 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 20:55:57.780 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1878.9299ms
2023-06-26 20:55:57.780 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:55:57.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586607 application/json;+charset=utf-8 1882.5749ms
2023-06-26 20:56:05.073 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:56:05.073 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:05.073 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:05.073 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:56:05.074 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:05.075 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:56:05.076 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:56:05.639 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:56:05.669 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 595.7433ms
2023-06-26 20:56:05.669 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:05.669 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 596.4718ms
2023-06-26 20:56:06.060 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 20:56:06.060 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:06.061 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:06.061 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:56:06.061 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:06.062 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 20:56:07.904 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 20:56:07.967 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1905.9928ms
2023-06-26 20:56:07.967 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:07.967 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 200 1997034 application/json;+charset=utf-8 1906.6706ms
2023-06-26 20:56:11.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:56:11.254 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:11.254 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:11.254 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:56:11.254 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:11.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:56:11.257 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:56:11.832 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:56:11.861 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 606.7621ms
2023-06-26 20:56:11.861 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:11.861 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 607.3789ms
2023-06-26 20:56:12.299 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 20:56:12.299 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:12.299 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:12.300 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:56:12.300 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:12.301 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 20:56:14.052 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 20:56:14.073 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1773.734ms
2023-06-26 20:56:14.073 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:14.074 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 1774.3757ms
2023-06-26 20:56:15.395 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:56:15.395 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:15.395 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:15.395 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:56:15.396 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:15.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:56:15.398 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:56:15.989 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:56:16.020 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 624.7291ms
2023-06-26 20:56:16.020 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:16.020 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 625.4384ms
2023-06-26 20:56:16.452 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=4 - -
2023-06-26 20:56:16.452 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:16.452 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:16.452 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:56:16.453 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:16.454 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 20:56:18.154 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 20:56:18.155 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1702.2217ms
2023-06-26 20:56:18.155 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:18.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=4 - - - 200 15 application/json;+charset=utf-8 1702.9206ms
2023-06-26 20:56:18.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:56:18.808 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:18.808 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:18.808 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:56:18.808 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:18.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:56:18.810 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:56:19.382 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:56:19.408 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 600.1748ms
2023-06-26 20:56:19.408 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:19.408 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 600.8612ms
2023-06-26 20:56:19.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=5 - -
2023-06-26 20:56:19.760 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:19.760 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:19.760 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:56:19.761 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:19.762 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 20:56:21.478 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 20:56:21.478 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1718.1967ms
2023-06-26 20:56:21.478 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:21.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=5 - - - 200 15 application/json;+charset=utf-8 1718.8575ms
2023-06-26 20:56:21.897 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:56:21.897 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:21.897 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:21.898 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:56:21.898 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:21.899 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:56:21.900 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:56:22.437 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:56:22.463 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 565.3218ms
2023-06-26 20:56:22.463 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:22.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 566.1047ms
2023-06-26 20:56:22.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=6 - -
2023-06-26 20:56:22.820 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:22.820 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:22.820 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:56:22.821 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:22.822 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 20:56:24.601 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 20:56:24.601 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1780.8275ms
2023-06-26 20:56:24.601 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:24.601 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=6 - - - 200 15 application/json;+charset=utf-8 1781.4422ms
2023-06-26 20:56:25.025 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:56:25.025 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:25.026 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:25.026 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:56:25.026 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:25.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:56:25.028 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:56:25.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:56:25.601 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 575.4435ms
2023-06-26 20:56:25.601 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:25.601 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 576.1086ms
2023-06-26 20:56:26.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 20:56:26.512 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:26.512 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:26.512 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:56:26.513 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:26.514 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 20:56:28.305 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 20:56:28.320 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1807.7652ms
2023-06-26 20:56:28.320 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:28.320 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586607 application/json;+charset=utf-8 1808.4210ms
2023-06-26 20:56:29.930 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:56:29.930 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:29.930 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:29.930 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:56:29.931 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:29.932 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:56:29.933 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:56:30.478 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:56:30.507 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 576.38ms
2023-06-26 20:56:30.507 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:30.507 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 577.0186ms
2023-06-26 20:56:32.871 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=6 - -
2023-06-26 20:56:32.872 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:32.872 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:32.872 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 20:56:32.872 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:32.874 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 20:56:34.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 20:56:34.728 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1856.5465ms
2023-06-26 20:56:34.728 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 20:56:34.729 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=6 - - - 200 15 application/json;+charset=utf-8 1857.2039ms
2023-06-26 20:56:36.540 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 20:56:36.540 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:56:36.540 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:36.540 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:56:36.541 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:56:36.541 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:56:36.543 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 20:56:37.097 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:56:37.123 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 582.932ms
2023-06-26 20:56:37.123 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 20:56:37.123 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 583.7977ms
2023-06-26 20:59:05.803 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - -
2023-06-26 20:59:05.803 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:59:05.804 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - - - 204 - - 0.2977ms
2023-06-26 20:59:05.805 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 66
2023-06-26 20:59:05.805 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:59:05.805 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 20:59:05.805 +03:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CantinaUPT_API.Web.ApiModels.LoginRequestDTO) on controller CantinaUPT_API.Web.Controllers.AuthController (CantinaUPT_API.Web).
2023-06-26 20:59:05.806 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:59:05.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Username_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleName], [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Canteens] AS [c] ON [u].[CanteenId] = [c].[Id]
WHERE ([u].[Username] = @__user_Username_0) OR ([u].[Email] = @__user_Email_1)
2023-06-26 20:59:05.811 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Core.ProjectAggregate.LoginResponse'.
2023-06-26 20:59:05.812 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web) in 7.1797ms
2023-06-26 20:59:05.812 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 20:59:05.813 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 66 - 200 460 application/json;+charset=utf-8 7.9084ms
2023-06-26 20:59:07.465 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategories - -
2023-06-26 20:59:07.465 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:59:07.465 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/portion/GetAllPortions - -
2023-06-26 20:59:07.465 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:59:07.465 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategories - - - 204 - - 0.3204ms
2023-06-26 20:59:07.465 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/portion/GetAllPortions - - - 204 - - 0.1557ms
2023-06-26 20:59:07.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategories - -
2023-06-26 20:59:07.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/portion/GetAllPortions - -
2023-06-26 20:59:07.468 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:59:07.468 +03:00 [INF] CORS policy execution successful.
2023-06-26 20:59:07.468 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web)'
2023-06-26 20:59:07.468 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web)'
2023-06-26 20:59:07.468 +03:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 20:59:07.468 +03:00 [INF] Route matched with {action = "GetAllPortions", controller = "Portion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPortions() on controller CantinaUPT_API.Web.Controllers.PortionController (CantinaUPT_API.Web).
2023-06-26 20:59:07.468 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:59:07.468 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 20:59:07.471 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 20:59:07.473 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.Category, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:59:07.476 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web) in 7.9307ms
2023-06-26 20:59:07.476 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategories (CantinaUPT_API.Web)'
2023-06-26 20:59:07.478 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
2023-06-26 20:59:07.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategories - - - 200 314 application/json;+charset=utf-8 11.1136ms
2023-06-26 20:59:07.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.Portion, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 20:59:07.480 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web) in 12.2767ms
2023-06-26 20:59:07.480 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.PortionController.GetAllPortions (CantinaUPT_API.Web)'
2023-06-26 20:59:07.481 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/portion/GetAllPortions - - - 200 51 application/json;+charset=utf-8 13.7903ms
2023-06-26 21:02:51.640 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 21:02:51.640 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:02:51.640 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.3211ms
2023-06-26 21:02:51.641 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 163202
2023-06-26 21:02:51.641 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:02:51.641 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 21:02:51.641 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 21:02:51.660 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:02:51.664 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 21:02:51.665 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 21:02:51.668 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 21:02:51.674 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 21:02:51.675 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 21:02:51.675 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 21:02:51.675 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 33.5599ms
2023-06-26 21:02:51.675 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 21:02:51.675 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 163202 - 200 - - 34.4086ms
2023-06-26 21:03:12.357 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 21:03:12.357 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:12.357 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.3194ms
2023-06-26 21:03:12.357 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 146329
2023-06-26 21:03:12.357 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:12.358 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 21:03:12.358 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 21:03:12.369 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:03:12.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 21:03:12.372 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 21:03:12.374 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 21:03:12.380 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 21:03:12.381 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 21:03:12.381 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 21:03:12.381 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 23.245ms
2023-06-26 21:03:12.381 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 21:03:12.381 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 146329 - 200 - - 24.0385ms
2023-06-26 21:03:27.788 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - -
2023-06-26 21:03:27.789 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:27.789 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/AddMeal - - - 204 - - 0.3299ms
2023-06-26 21:03:27.789 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 148697
2023-06-26 21:03:27.789 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:27.790 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 21:03:27.790 +03:00 [INF] Route matched with {action = "AddMeal", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMeal(CantinaUPT_API.Web.ApiModels.MealDTO) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 21:03:27.796 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:03:27.797 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PortionName]
FROM [Portions] AS [p]
WHERE [p].[Id] = @__p_0
2023-06-26 21:03:27.798 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 21:03:27.800 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Meals] ([CanteenId], [CategoryId], [DailyMenuId], [Description], [Disponibility], [Name], [PictureURL], [PortionId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Meals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 21:03:27.809 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
WHERE [c].[Id] = @__p_0
2023-06-26 21:03:27.810 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2023-06-26 21:03:27.810 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 21:03:27.810 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web) in 20.0472ms
2023-06-26 21:03:27.810 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.AddMeal (CantinaUPT_API.Web)'
2023-06-26 21:03:27.810 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/meal/AddMeal application/json 148697 - 200 - - 21.0568ms
2023-06-26 21:03:31.736 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:03:31.736 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:31.736 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3505ms
2023-06-26 21:03:31.737 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:03:31.737 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:31.737 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:03:31.737 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 21:03:31.738 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:03:31.738 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 21:03:31.740 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 21:03:32.291 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:03:32.324 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 587.0629ms
2023-06-26 21:03:32.324 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:03:32.325 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 587.7449ms
2023-06-26 21:03:33.000 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=4 - -
2023-06-26 21:03:33.000 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:33.000 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=4 - - - 204 - - 0.3885ms
2023-06-26 21:03:33.001 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=4 - -
2023-06-26 21:03:33.001 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:33.001 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:03:33.001 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:03:33.002 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:03:33.003 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 21:03:34.886 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 21:03:34.894 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1892.1964ms
2023-06-26 21:03:34.894 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:03:34.894 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=4 - - - 200 148740 application/json;+charset=utf-8 1892.9505ms
2023-06-26 21:03:38.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 21:03:38.068 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:03:38.068 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:03:38.068 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:03:38.069 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:03:38.070 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 21:03:38.070 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:03:38.071 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.3611ms
2023-06-26 21:03:38.071 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:03:38.071 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 2.8968ms
2023-06-26 21:04:36.333 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:04:36.333 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:36.333 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:04:36.333 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 21:04:36.334 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:36.335 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 21:04:36.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 21:04:36.940 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:04:36.972 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 638.0608ms
2023-06-26 21:04:36.972 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:04:36.972 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 638.8231ms
2023-06-26 21:04:37.718 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=1&categoryId=3 - -
2023-06-26 21:04:37.718 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:37.718 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:04:37.718 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:04:37.719 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:37.720 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 21:04:39.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 21:04:39.570 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1851.8553ms
2023-06-26 21:04:39.570 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:04:39.570 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=1&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 1852.5753ms
2023-06-26 21:04:41.233 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 21:04:41.233 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:41.233 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:04:41.233 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:04:41.234 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:41.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 21:04:41.236 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:04:41.236 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 3.0838ms
2023-06-26 21:04:41.236 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:04:41.237 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.7325ms
2023-06-26 21:04:47.528 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:04:47.528 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:47.529 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:04:47.529 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 21:04:47.529 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:47.530 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 21:04:47.531 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 21:04:48.084 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:04:48.110 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 581.3085ms
2023-06-26 21:04:48.110 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:04:48.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 581.9800ms
2023-06-26 21:04:48.941 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 21:04:48.941 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:48.941 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:04:48.942 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:04:48.942 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:48.943 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 21:04:50.744 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 21:04:50.804 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1862.7747ms
2023-06-26 21:04:50.804 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:04:50.805 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 200 1997034 application/json;+charset=utf-8 1863.7030ms
2023-06-26 21:04:52.304 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 21:04:52.305 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:52.305 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:04:52.305 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:04:52.306 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:52.307 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 21:04:52.308 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:04:52.308 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 3.5997ms
2023-06-26 21:04:52.309 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:04:52.309 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 4.2914ms
2023-06-26 21:04:53.046 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:04:53.047 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:53.047 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:04:53.047 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 21:04:53.047 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:53.048 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 21:04:53.049 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 21:04:53.620 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:04:53.649 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 601.8271ms
2023-06-26 21:04:53.649 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:04:53.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 602.4992ms
2023-06-26 21:04:54.070 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=4 - -
2023-06-26 21:04:54.071 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:54.071 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:04:54.071 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:04:54.071 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:54.072 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 21:04:55.871 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 21:04:55.879 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1807.7658ms
2023-06-26 21:04:55.879 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:04:55.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=4 - - - 200 148740 application/json;+charset=utf-8 1808.4510ms
2023-06-26 21:04:57.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:04:57.762 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:57.762 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:04:57.762 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 21:04:57.763 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:57.764 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 21:04:57.765 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 21:04:58.251 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:04:58.279 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 517.139ms
2023-06-26 21:04:58.280 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:04:58.280 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 517.8021ms
2023-06-26 21:04:58.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=5 - -
2023-06-26 21:04:58.734 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:04:58.735 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:04:58.735 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:04:58.735 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:04:58.736 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 21:05:00.506 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 21:05:00.514 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1779.144ms
2023-06-26 21:05:00.514 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:05:00.514 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=5 - - - 200 146371 application/json;+charset=utf-8 1779.8249ms
2023-06-26 21:05:02.201 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:05:02.201 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:05:02.201 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:05:02.201 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 21:05:02.202 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:05:02.203 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 21:05:02.203 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 21:05:02.748 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:05:02.778 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 576.2341ms
2023-06-26 21:05:02.778 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:05:02.778 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 576.9156ms
2023-06-26 21:05:03.201 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=6 - -
2023-06-26 21:05:03.202 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:05:03.202 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:05:03.202 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:05:03.203 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:05:03.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 21:05:04.991 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 21:05:05.003 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1801.0155ms
2023-06-26 21:05:05.003 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:05:05.003 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=6 - - - 200 163242 application/json;+charset=utf-8 1801.6633ms
2023-06-26 21:05:09.825 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:05:09.825 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:05:09.826 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:05:09.826 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 21:05:09.826 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:05:09.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 21:05:09.828 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 21:05:10.351 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:05:10.379 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 553.2491ms
2023-06-26 21:05:10.379 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:05:10.379 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 553.9468ms
2023-06-26 21:05:13.216 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=5 - -
2023-06-26 21:05:13.217 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:05:13.217 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:05:13.217 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:05:13.218 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:05:13.220 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 21:05:14.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 21:05:14.981 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1763.6579ms
2023-06-26 21:05:14.981 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 21:05:14.981 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=5 - - - 200 146371 application/json;+charset=utf-8 1764.3926ms
2023-06-26 21:05:17.426 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 21:05:17.427 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:05:17.427 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:05:17.427 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 21:05:17.427 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:05:17.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 21:05:17.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 21:05:17.951 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:05:17.978 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 550.827ms
2023-06-26 21:05:17.978 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 21:05:17.978 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 551.4413ms
2023-06-26 21:05:21.340 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:05:21.341 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:05:21.341 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.4418ms
2023-06-26 21:05:21.342 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:05:21.342 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:05:21.342 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:05:21.356 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:05:21.356 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 14.7077ms
2023-06-26 21:05:21.358 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=8NKHIqJLTcGre9Dfxs4YSQ - -
2023-06-26 21:05:21.359 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:05:21.359 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:06:10.860 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:06:10.860 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:10.860 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3396ms
2023-06-26 21:06:10.861 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:06:10.861 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:10.861 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:06:10.862 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:06:10.862 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.7252ms
2023-06-26 21:06:10.863 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=kALqyB3am2XI6FWpUMC-fQ - -
2023-06-26 21:06:10.863 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:10.863 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:06:13.543 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:06:13.543 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:13.544 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3897ms
2023-06-26 21:06:13.544 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:06:13.544 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:13.544 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:06:13.545 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:06:13.545 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5683ms
2023-06-26 21:06:13.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=rmMXrTUUw1So-RtQiliA7w - -
2023-06-26 21:06:13.546 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:13.547 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:06:28.135 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:06:28.135 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:28.135 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3111ms
2023-06-26 21:06:28.136 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:06:28.136 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:28.136 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:06:28.136 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:06:28.136 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5544ms
2023-06-26 21:06:28.138 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=1q5HtbGd_zBwyE48vsHmTg - -
2023-06-26 21:06:28.138 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:28.138 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:06:30.159 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:06:30.160 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:30.160 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3740ms
2023-06-26 21:06:30.160 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:06:30.160 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:30.161 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:06:30.162 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:06:30.162 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 1.9090ms
2023-06-26 21:06:30.163 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=0g9eS2bcqVMTzyY_epuY2Q - -
2023-06-26 21:06:30.163 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:06:30.163 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:07:26.144 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:07:26.144 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:26.144 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3040ms
2023-06-26 21:07:26.145 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:07:26.145 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:26.145 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:07:26.146 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:07:26.146 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.4639ms
2023-06-26 21:07:26.148 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=1it0MIbToQXbZCsm6vDu3g - -
2023-06-26 21:07:26.148 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:26.148 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:07:35.261 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:07:35.262 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:35.262 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3118ms
2023-06-26 21:07:35.262 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:07:35.262 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:35.262 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:07:35.263 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:07:35.263 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5200ms
2023-06-26 21:07:35.301 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=_XPLuWAEAE3JuhjVYRr16A - -
2023-06-26 21:07:35.301 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:35.301 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:07:36.232 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 21:07:36.232 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:36.232 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:07:36.232 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:07:36.233 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:07:36.233 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 21:07:36.234 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:07:36.234 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.2779ms
2023-06-26 21:07:36.234 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:07:36.235 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 2.8496ms
2023-06-26 21:07:37.082 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:07:37.083 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:37.083 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3570ms
2023-06-26 21:07:37.083 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:07:37.083 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:37.083 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:07:37.084 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:07:37.084 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.4615ms
2023-06-26 21:07:37.085 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=AvxiuDeMUqBcJP_ARcD01g - -
2023-06-26 21:07:37.086 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:37.086 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:07:38.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 21:07:38.658 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:38.658 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:07:38.658 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:07:38.659 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:07:38.659 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 21:07:38.660 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:07:38.661 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.1591ms
2023-06-26 21:07:38.661 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:07:38.661 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 2.7342ms
2023-06-26 21:07:39.398 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 21:07:39.399 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:39.399 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3126ms
2023-06-26 21:07:39.399 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 21:07:39.399 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:39.399 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 21:07:39.400 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 21:07:39.400 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.4608ms
2023-06-26 21:07:39.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=VYuDikkDucW5dI7kQjDVbA - -
2023-06-26 21:07:39.401 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:39.401 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 21:07:40.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 21:07:40.191 +03:00 [INF] CORS policy execution successful.
2023-06-26 21:07:40.191 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:07:40.191 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 21:07:40.191 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 21:07:40.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 21:07:40.193 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 21:07:40.193 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.2897ms
2023-06-26 21:07:40.193 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 21:07:40.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 2.8760ms
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=rmMXrTUUw1So-RtQiliA7w - - - 101 - - 1584436.2944ms
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=0g9eS2bcqVMTzyY_epuY2Q - - - 101 - - 1567819.3646ms
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=AvxiuDeMUqBcJP_ARcD01g - - - 101 - - 1500897.1982ms
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=_XPLuWAEAE3JuhjVYRr16A - - - 101 - - 1502682.2373ms
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=VYuDikkDucW5dI7kQjDVbA - - - 101 - - 1498581.9976ms
2023-06-26 21:32:37.982 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=1q5HtbGd_zBwyE48vsHmTg - - - 101 - - 1569845.1313ms
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=8NKHIqJLTcGre9Dfxs4YSQ - - - 101 - - 1636624.3740ms
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=1it0MIbToQXbZCsm6vDu3g - - - 101 - - 1511835.0198ms
2023-06-26 21:32:37.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=kALqyB3am2XI6FWpUMC-fQ - - - 101 - - 1587119.7661ms
2023-06-26 23:19:35.375 +03:00 [INF] User profile is available. Using 'C:\Users\zkato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-26 23:19:36.249 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:19:36.590 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-26 23:19:36.626 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-26 23:19:36.636 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:19:36.883 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ToDoItems] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-06-26 23:19:36.960 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-26 23:19:36.960 +03:00 [INF] Hosting environment: Development
2023-06-26 23:19:36.960 +03:00 [INF] Content root path: C:\Users\zkato\Source\Repos\Cantina_UPT_API_Safe\src\CantinaUPT_API.Web\
2023-06-26 23:19:36.979 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2023-06-26 23:19:37.028 +03:00 [WRN] Failed to determine the https port for redirect.
2023-06-26 23:19:37.109 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-26 23:19:37.115 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller CantinaUPT_API.Web.Controllers.HomeController (CantinaUPT_API.Web).
2023-06-26 23:19:37.121 +03:00 [INF] Executing ViewResult, running view Index.
2023-06-26 23:19:37.306 +03:00 [INF] Executed ViewResult - view Index executed in 184.5847ms.
2023-06-26 23:19:37.310 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web) in 194.5912ms
2023-06-26 23:19:37.311 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-26 23:19:37.352 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2023-06-26 23:19:37.352 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2023-06-26 23:19:37.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 377.8508ms
2023-06-26 23:19:37.365 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 7.3888ms
2023-06-26 23:19:37.402 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.9754ms
2023-06-26 23:26:34.355 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:26:34.370 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:26:34.371 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:26:34.374 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:26:34.484 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:26:34.561 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:26:34.639 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:26:34.722 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 348.5745ms
2023-06-26 23:26:34.723 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:26:34.727 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 372.2815ms
2023-06-26 23:27:02.764 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:27:02.768 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:27:02.769 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 5.0795ms
2023-06-26 23:27:02.770 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:27:02.770 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:27:02.889 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:27:02.889 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:27:02.890 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:27:02.892 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:27:02.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:27:02.896 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 6.3694ms
2023-06-26 23:27:02.896 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:27:02.896 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 125.8808ms
2023-06-26 23:27:10.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:27:10.733 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:27:10.733 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:27:10.733 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:27:10.734 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:27:10.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:27:10.739 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:27:10.739 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 5.9728ms
2023-06-26 23:27:10.739 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:27:10.739 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 6.7102ms
2023-06-26 23:27:18.055 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - -
2023-06-26 23:27:18.055 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:27:18.055 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - - - 204 - - 0.4729ms
2023-06-26 23:27:18.056 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 66
2023-06-26 23:27:18.057 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:27:18.057 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 23:27:18.073 +03:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CantinaUPT_API.Web.ApiModels.LoginRequestDTO) on controller CantinaUPT_API.Web.Controllers.AuthController (CantinaUPT_API.Web).
2023-06-26 23:27:18.122 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:27:18.249 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Username_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleName], [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Canteens] AS [c] ON [u].[CanteenId] = [c].[Id]
WHERE ([u].[Username] = @__user_Username_0) OR ([u].[Email] = @__user_Email_1)
2023-06-26 23:27:18.288 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Core.ProjectAggregate.LoginResponse'.
2023-06-26 23:27:18.291 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web) in 217.7744ms
2023-06-26 23:27:18.291 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 23:27:18.291 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 66 - 200 460 application/json;+charset=utf-8 234.7536ms
2023-06-26 23:27:26.984 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:27:26.984 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:27:26.984 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:27:26.985 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:27:26.985 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:27:26.986 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:27:26.987 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:27:26.987 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.563ms
2023-06-26 23:27:26.987 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:27:26.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.2784ms
2023-06-26 23:30:27.113 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:30:27.114 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:27.114 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 1.7246ms
2023-06-26 23:30:27.120 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:30:27.121 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:30:27.124 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:27.124 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:27.125 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 3.9922ms
2023-06-26 23:30:27.128 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:30:27.129 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:27.129 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:30:27.134 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:30:27.137 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:30:27.142 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:30:27.143 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 14.1865ms
2023-06-26 23:30:27.145 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=TDYceWrv_iCRYTlVDTI7bw - -
2023-06-26 23:30:27.145 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:27.145 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:30:27.146 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:30:27.247 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:30:27.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:30:28.023 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 885.8583ms
2023-06-26 23:30:28.023 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:30:28.024 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 2200060 application/json;+charset=utf-8 903.7377ms
2023-06-26 23:30:30.538 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:30:30.538 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:30.539 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:30:30.541 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:30:30.543 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:30:30.548 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:30:30.555 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:30:31.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:30:31.209 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 668.7033ms
2023-06-26 23:30:31.209 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:30:31.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 671.6905ms
2023-06-26 23:30:32.462 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:30:32.462 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:32.462 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:30:32.467 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:30:32.471 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:30:32.492 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:30:34.551 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:30:34.574 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2106.3749ms
2023-06-26 23:30:34.574 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:30:34.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586607 application/json;+charset=utf-8 2112.8051ms
2023-06-26 23:30:52.215 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - -
2023-06-26 23:30:52.215 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:52.215 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - - - 204 - - 0.3400ms
2023-06-26 23:30:52.216 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 62
2023-06-26 23:30:52.216 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:52.216 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 23:30:52.216 +03:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CantinaUPT_API.Web.ApiModels.LoginRequestDTO) on controller CantinaUPT_API.Web.Controllers.AuthController (CantinaUPT_API.Web).
2023-06-26 23:30:52.217 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:30:52.220 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Username_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleName], [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Canteens] AS [c] ON [u].[CanteenId] = [c].[Id]
WHERE ([u].[Username] = @__user_Username_0) OR ([u].[Email] = @__user_Email_1)
2023-06-26 23:30:52.221 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Core.ProjectAggregate.LoginResponse'.
2023-06-26 23:30:52.222 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web) in 5.6975ms
2023-06-26 23:30:52.222 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-26 23:30:52.222 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 62 - 200 454 application/json;+charset=utf-8 6.0917ms
2023-06-26 23:30:52.228 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:30:52.228 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:52.228 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3479ms
2023-06-26 23:30:52.229 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:30:52.229 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:52.230 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:30:52.230 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:30:52.230 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:30:52.231 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:30:52.232 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:30:52.232 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.5051ms
2023-06-26 23:30:52.232 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:30:52.232 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.2036ms
2023-06-26 23:30:59.474 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:30:59.474 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:59.474 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4836ms
2023-06-26 23:30:59.475 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:30:59.475 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:59.476 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:30:59.476 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:59.476 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.2127ms
2023-06-26 23:30:59.476 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:30:59.476 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:30:59.476 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:30:59.476 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:59.476 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:30:59.477 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:30:59.477 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.7074ms
2023-06-26 23:30:59.477 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:30:59.479 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:30:59.531 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=fxtr2lGV62A9RfE8S46Ddg - -
2023-06-26 23:30:59.532 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:30:59.532 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:31:00.084 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:00.120 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 643.2785ms
2023-06-26 23:31:00.120 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:00.120 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 2200060 application/json;+charset=utf-8 644.5874ms
2023-06-26 23:31:00.871 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:31:00.872 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:00.873 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 1.5291ms
2023-06-26 23:31:00.874 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:31:00.874 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:00.874 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:31:00.874 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:31:00.875 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:00.876 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:31:00.877 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:31:01.492 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:01.524 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 649.504ms
2023-06-26 23:31:01.524 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:31:01.524 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 650.3194ms
2023-06-26 23:31:02.427 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:31:02.427 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:02.428 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 204 - - 0.3593ms
2023-06-26 23:31:02.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:31:02.429 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:02.429 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:31:02.429 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:31:02.430 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:02.432 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:31:04.417 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:31:04.432 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2002.6419ms
2023-06-26 23:31:04.432 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:31:04.432 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586607 application/json;+charset=utf-8 2003.5513ms
2023-06-26 23:31:07.480 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:31:07.481 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:07.481 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.6835ms
2023-06-26 23:31:07.482 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:31:07.482 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:07.482 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:31:07.482 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:31:07.483 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:07.484 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:31:07.485 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:31:08.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:08.109 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 626.743ms
2023-06-26 23:31:08.109 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:31:08.109 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 627.4826ms
2023-06-26 23:31:08.999 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 23:31:08.999 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:09.000 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 204 - - 0.6203ms
2023-06-26 23:31:09.006 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 23:31:09.006 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:09.006 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:31:09.007 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:31:09.007 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:09.008 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:31:11.003 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:31:11.077 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2070.8897ms
2023-06-26 23:31:11.078 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:31:11.078 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 200 1997034 application/json;+charset=utf-8 2071.9961ms
2023-06-26 23:31:13.381 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:31:13.381 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:13.381 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.4482ms
2023-06-26 23:31:13.382 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:31:13.382 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:13.383 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:31:13.383 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:31:13.383 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:13.384 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:31:13.386 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:31:13.994 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:14.022 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 639.3714ms
2023-06-26 23:31:14.022 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:31:14.022 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 640.3515ms
2023-06-26 23:31:14.741 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 23:31:14.742 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:14.742 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.5335ms
2023-06-26 23:31:14.751 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 23:31:14.751 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:14.751 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:31:14.752 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:31:14.752 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:14.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:31:16.780 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:31:16.804 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2052.5256ms
2023-06-26 23:31:16.804 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:31:16.804 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 2053.6380ms
2023-06-26 23:31:26.999 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:31:27.000 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:27.000 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.4877ms
2023-06-26 23:31:27.001 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:31:27.001 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:27.001 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:31:27.001 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:31:27.001 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6052ms
2023-06-26 23:31:27.003 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=m6R-rkyhCNWdj7ofVQleGw - -
2023-06-26 23:31:27.003 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:27.003 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:31:27.007 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 23:31:27.008 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:27.008 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.3841ms
2023-06-26 23:31:27.009 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 23:31:27.009 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:27.010 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 23:31:27.012 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 23:31:27.015 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:27.030 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 23:31:27.040 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:27.042 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 30.6356ms
2023-06-26 23:31:27.042 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 23:31:27.043 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 34.0288ms
2023-06-26 23:31:55.732 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:31:55.733 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:55.733 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4761ms
2023-06-26 23:31:55.733 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:31:55.733 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:55.734 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4286ms
2023-06-26 23:31:55.735 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:31:55.735 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:55.735 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:55.735 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:31:55.736 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:55.737 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:31:56.448 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:56.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:31:56.467 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:56.467 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:56.468 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:31:56.469 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:56.470 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:31:56.502 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 767.0678ms
2023-06-26 23:31:56.502 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:56.502 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 2200060 application/json;+charset=utf-8 767.9342ms
2023-06-26 23:31:56.841 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 23:31:56.842 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:56.842 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.6070ms
2023-06-26 23:31:56.843 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 220
2023-06-26 23:31:56.843 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:56.843 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 23:31:56.846 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:31:56.881 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:56.900 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:31:56.918 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] IN (25, 27, 21)
2023-06-26 23:31:57.235 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:57.276 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 808.1779ms
2023-06-26 23:31:57.276 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:57.276 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 2200060 application/json;+charset=utf-8 809.2959ms
2023-06-26 23:31:57.336 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 23:31:57.476 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:31:57.506 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:31:57.507 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:31:57.508 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:31:57.541 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:31:57.541 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 695.4144ms
2023-06-26 23:31:57.541 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 23:31:57.542 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 220 - 200 - - 698.5915ms
2023-06-26 23:31:57.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:31:57.547 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:57.547 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:57.547 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:31:57.549 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:57.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:31:57.555 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:31:57.555 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:31:57.555 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:57.555 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:57.555 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.4272ms
2023-06-26 23:31:57.555 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3266ms
2023-06-26 23:31:57.556 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:31:57.556 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:57.556 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:31:57.556 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:31:57.557 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6674ms
2023-06-26 23:31:57.592 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:31:57.592 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=8IJ2gn0uDfdUNqMdJA15BQ - -
2023-06-26 23:31:57.593 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:57.593 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:57.593 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:31:57.593 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:31:57.603 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:31:57.606 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:57.630 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:31:58.773 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:58.795 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:31:58.795 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:31:58.796 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:58.796 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:31:58.797 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:31:58.799 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:31:58.835 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1286.9539ms
2023-06-26 23:31:58.835 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:58.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141629 application/json;+charset=utf-8 1288.9235ms
2023-06-26 23:31:58.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 23:31:58.880 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1276.8603ms
2023-06-26 23:31:58.880 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:31:58.881 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 941569 application/json;+charset=utf-8 1288.2065ms
2023-06-26 23:31:59.706 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:31:59.749 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 952.7614ms
2023-06-26 23:31:59.749 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:31:59.749 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141629 application/json;+charset=utf-8 954.3280ms
2023-06-26 23:32:05.401 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1010&newOrderStatusId=2 - -
2023-06-26 23:32:05.401 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:05.401 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1010&newOrderStatusId=2 - - - 204 - - 0.5059ms
2023-06-26 23:32:05.402 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1010&newOrderStatusId=2 application/json 4
2023-06-26 23:32:05.402 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:05.403 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 23:32:05.405 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:32:05.406 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:05.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:32:05.412 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:32:05.426 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 23:32:05.431 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:32:05.432 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 26.3883ms
2023-06-26 23:32:05.432 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 23:32:05.432 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1010&newOrderStatusId=2 application/json 4 - 200 - - 29.7897ms
2023-06-26 23:32:05.437 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:32:05.437 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:05.437 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.3612ms
2023-06-26 23:32:05.438 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:32:05.438 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:05.439 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:32:05.439 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:32:05.439 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:05.440 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:32:06.341 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:32:06.382 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 943.7586ms
2023-06-26 23:32:06.383 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:32:06.383 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 944.5809ms
2023-06-26 23:32:06.395 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:32:06.396 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:06.396 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.5511ms
2023-06-26 23:32:06.397 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:32:06.398 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:06.398 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:32:06.398 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:32:06.399 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:06.401 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:32:07.334 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 23:32:07.352 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 954.0986ms
2023-06-26 23:32:07.352 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:32:07.353 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 941565 application/json;+charset=utf-8 955.1422ms
2023-06-26 23:32:07.419 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1010&newOrderStatusId=3 - -
2023-06-26 23:32:07.419 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:07.419 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1010&newOrderStatusId=3 - - - 204 - - 0.3702ms
2023-06-26 23:32:07.420 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1010&newOrderStatusId=3 application/json 4
2023-06-26 23:32:07.420 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:07.420 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 23:32:07.421 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:32:07.421 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:07.422 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:32:07.424 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:32:07.425 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 23:32:07.433 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:32:07.434 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 13.0325ms
2023-06-26 23:32:07.434 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 23:32:07.434 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1010&newOrderStatusId=3 application/json 4 - 200 - - 14.0297ms
2023-06-26 23:32:07.436 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:32:07.436 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:07.436 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:32:07.436 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:32:07.437 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:07.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:32:08.388 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:32:08.432 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 995.6025ms
2023-06-26 23:32:08.432 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:32:08.432 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 996.3793ms
2023-06-26 23:32:08.446 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:32:08.446 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:08.447 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:32:08.447 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:32:08.449 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:08.450 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:32:09.350 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:32:09.350 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 902.3053ms
2023-06-26 23:32:09.350 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:32:09.350 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 904.3760ms
2023-06-26 23:32:17.151 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:32:17.151 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:32:17.151 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:17.151 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:17.152 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.5143ms
2023-06-26 23:32:17.152 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.5203ms
2023-06-26 23:32:17.152 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:32:17.152 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:17.153 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:32:17.153 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:32:17.153 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:17.153 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:32:17.153 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:32:17.153 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5858ms
2023-06-26 23:32:17.153 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:32:17.154 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:17.155 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:32:17.155 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=qK0qsj3Mv5gY1vH_d4Jlmg - -
2023-06-26 23:32:17.155 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:17.156 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:32:17.925 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:32:17.926 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 772.5167ms
2023-06-26 23:32:17.926 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:32:17.926 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 773.4705ms
2023-06-26 23:32:18.902 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:32:18.902 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:18.902 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3744ms
2023-06-26 23:32:18.903 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:32:18.903 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:18.903 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:32:18.903 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:32:18.904 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:18.905 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:32:18.905 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:32:18.906 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.6428ms
2023-06-26 23:32:18.906 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:32:18.906 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.1659ms
2023-06-26 23:32:28.060 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:32:28.061 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:28.061 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.5016ms
2023-06-26 23:32:28.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:32:28.062 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:28.062 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:32:28.062 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:28.063 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3499ms
2023-06-26 23:32:28.063 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:32:28.063 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:32:28.063 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:32:28.063 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:28.064 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:32:28.064 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:32:28.064 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.7010ms
2023-06-26 23:32:28.065 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:28.066 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:32:28.067 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=r8xjw2DHBG1o5lYXjm0iaA - -
2023-06-26 23:32:28.067 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:28.068 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:32:28.952 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:32:29.002 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 938.2349ms
2023-06-26 23:32:29.002 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:32:29.002 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 940.1026ms
2023-06-26 23:32:30.431 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:32:30.431 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:30.432 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.8848ms
2023-06-26 23:32:30.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:32:30.433 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:30.433 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:32:30.434 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:32:30.434 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:30.435 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:32:30.437 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:32:31.058 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:32:31.089 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 655.1387ms
2023-06-26 23:32:31.089 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:32:31.089 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 656.0720ms
2023-06-26 23:32:31.932 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:32:31.932 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:31.932 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 204 - - 0.4477ms
2023-06-26 23:32:31.933 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:32:31.934 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:31.934 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:32:31.934 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:32:31.935 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:31.936 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:32:34.000 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:32:34.016 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2081.6455ms
2023-06-26 23:32:34.016 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:32:34.016 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586607 application/json;+charset=utf-8 2082.9826ms
2023-06-26 23:32:37.190 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:32:37.191 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:37.191 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3959ms
2023-06-26 23:32:37.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:32:37.192 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:37.192 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:32:37.192 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:32:37.193 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:37.194 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:32:37.195 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:32:37.802 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:32:37.833 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 640.6984ms
2023-06-26 23:32:37.833 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:32:37.834 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 641.8486ms
2023-06-26 23:32:38.461 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 23:32:38.461 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:38.461 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 204 - - 0.3990ms
2023-06-26 23:32:38.463 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 23:32:38.463 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:38.464 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:32:38.464 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:32:38.465 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:38.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:32:40.455 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:32:40.523 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2059.0488ms
2023-06-26 23:32:40.523 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:32:40.523 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 200 1997034 application/json;+charset=utf-8 2060.4235ms
2023-06-26 23:32:42.532 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:32:42.533 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:42.533 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.7178ms
2023-06-26 23:32:42.534 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:32:42.534 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:42.535 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:32:42.535 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:32:42.535 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:42.536 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:32:42.537 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:32:43.127 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:32:43.157 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 622.1975ms
2023-06-26 23:32:43.157 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:32:43.157 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 623.0185ms
2023-06-26 23:32:43.873 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 23:32:43.873 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:43.874 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.5084ms
2023-06-26 23:32:43.875 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 23:32:43.875 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:43.875 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:32:43.875 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:32:43.876 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:43.877 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:32:45.881 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:32:45.909 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2034.0792ms
2023-06-26 23:32:45.909 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:32:45.910 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 2034.9191ms
2023-06-26 23:32:52.605 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:32:52.605 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:52.605 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.4468ms
2023-06-26 23:32:52.606 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:32:52.606 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:52.606 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:32:52.606 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:32:52.607 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6376ms
2023-06-26 23:32:52.608 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=eQFtWAUNpk3QeE8fFH8sxg - -
2023-06-26 23:32:52.608 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:52.608 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:32:52.612 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 23:32:52.612 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:52.612 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.1968ms
2023-06-26 23:32:52.612 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 23:32:52.613 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:32:52.613 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 23:32:52.613 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 23:32:52.614 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:32:52.616 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 23:32:52.617 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:32:52.617 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 4.0572ms
2023-06-26 23:32:52.617 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 23:32:52.617 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 4.9088ms
2023-06-26 23:33:07.888 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:07.888 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:07.888 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:07.888 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.3810ms
2023-06-26 23:33:07.889 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:07.889 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.3293ms
2023-06-26 23:33:07.890 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:07.890 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:07.890 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.1708ms
2023-06-26 23:33:07.890 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:07.890 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:07.890 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:07.890 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:33:07.891 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:33:07.892 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:33:08.785 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:33:08.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:08.807 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:08.807 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:08.807 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:33:08.808 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:33:08.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:33:08.844 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 953.3599ms
2023-06-26 23:33:08.844 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:08.844 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 954.1170ms
2023-06-26 23:33:09.718 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:33:09.737 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:09.738 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:09.738 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:09.738 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:33:09.739 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:33:09.740 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:33:09.772 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 964.4761ms
2023-06-26 23:33:09.772 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:09.772 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 965.6167ms
2023-06-26 23:33:09.836 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/AddCard/8 - -
2023-06-26 23:33:09.836 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:09.837 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/AddCard/8 - - - 204 - - 0.4752ms
2023-06-26 23:33:09.837 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Card/AddCard/8 application/json 100
2023-06-26 23:33:09.838 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:09.838 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.AddCard (CantinaUPT_API.Web)'
2023-06-26 23:33:09.840 +03:00 [INF] Route matched with {action = "AddCard", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCard(Int32, CantinaUPT_API.Web.ApiModels.CardDTO) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 23:33:09.846 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:33:09.848 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 23:33:09.866 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cards] ([EncryptedCvc], [EncryptedNumber], [Expiry], [Name], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Cards]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:33:09.868 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:33:09.868 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.AddCard (CantinaUPT_API.Web) in 27.3859ms
2023-06-26 23:33:09.868 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.AddCard (CantinaUPT_API.Web)'
2023-06-26 23:33:09.868 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Card/AddCard/8 application/json 100 - 200 - - 30.8133ms
2023-06-26 23:33:10.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:33:10.679 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:10.679 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:10.680 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:10.680 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:33:10.682 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:33:10.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:33:10.716 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 977.9784ms
2023-06-26 23:33:10.716 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:10.716 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 978.9619ms
2023-06-26 23:33:11.379 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:33:11.380 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:11.380 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:33:11.380 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:11.380 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.8650ms
2023-06-26 23:33:11.380 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3616ms
2023-06-26 23:33:11.382 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:33:11.382 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:11.382 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:33:11.382 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:33:11.382 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:33:11.383 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:11.383 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.6658ms
2023-06-26 23:33:11.383 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:33:11.383 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:33:11.384 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:33:11.385 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=hnoS4zbsgdbrp8I_yvQ3ww - -
2023-06-26 23:33:11.385 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:33:11.386 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:11.386 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:33:11.643 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:33:11.669 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:11.669 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:11.670 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:11.670 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:33:11.671 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:33:11.672 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:33:11.707 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1026.1894ms
2023-06-26 23:33:11.707 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:11.707 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 1028.0781ms
2023-06-26 23:33:12.589 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:33:12.589 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1205.7864ms
2023-06-26 23:33:12.589 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:33:12.589 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 1206.7339ms
2023-06-26 23:33:12.784 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:33:12.804 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:33:12.804 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:33:12.804 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:12.805 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:33:12.805 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:33:12.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:33:12.836 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1166.5013ms
2023-06-26 23:33:12.836 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:12.837 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 1167.6003ms
2023-06-26 23:33:13.694 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:33:13.737 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 932.5127ms
2023-06-26 23:33:13.737 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:33:13.737 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 933.4391ms
2023-06-26 23:37:05.115 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:37:05.115 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:37:05.115 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.4958ms
2023-06-26 23:37:05.119 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:37:05.119 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:37:05.119 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:37:05.119 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:37:05.120 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:37:05.121 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:37:05.121 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:37:05.122 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.181ms
2023-06-26 23:37:05.122 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:37:05.122 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 2.8523ms
2023-06-26 23:38:00.295 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:00.295 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:00.295 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4380ms
2023-06-26 23:38:00.296 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:38:00.296 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:00.297 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.1799ms
2023-06-26 23:38:00.297 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:00.297 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:00.297 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:00.297 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:38:00.297 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:38:00.297 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:00.297 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:38:00.298 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:38:00.298 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5277ms
2023-06-26 23:38:00.298 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:00.300 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:38:00.308 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=OAK-OCPMJDmkDf8jTUx4Rw - -
2023-06-26 23:38:00.309 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:00.309 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:38:01.167 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:01.217 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 919.9085ms
2023-06-26 23:38:01.217 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:01.217 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 3141625 application/json;+charset=utf-8 920.6407ms
2023-06-26 23:38:02.233 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:38:02.234 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:02.234 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.4538ms
2023-06-26 23:38:02.235 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:38:02.235 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:02.235 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:38:02.235 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:38:02.236 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:02.237 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:38:02.238 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:38:02.827 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:02.901 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 665.4166ms
2023-06-26 23:38:02.901 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:38:02.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 666.4562ms
2023-06-26 23:38:04.146 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:38:04.146 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:04.146 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 204 - - 0.6075ms
2023-06-26 23:38:04.148 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:38:04.148 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:04.149 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:38:04.149 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:38:04.150 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:04.151 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:38:06.143 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:38:06.159 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2009.8346ms
2023-06-26 23:38:06.159 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:38:06.159 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586607 application/json;+charset=utf-8 2011.0923ms
2023-06-26 23:38:09.474 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:38:09.474 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:09.474 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.4038ms
2023-06-26 23:38:09.475 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:38:09.475 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:09.476 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:38:09.476 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:38:09.476 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:09.477 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:38:09.478 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:38:10.053 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:10.088 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 612.2416ms
2023-06-26 23:38:10.088 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:38:10.088 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 613.0181ms
2023-06-26 23:38:11.095 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 23:38:11.095 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:11.095 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 204 - - 0.4068ms
2023-06-26 23:38:11.096 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - -
2023-06-26 23:38:11.097 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:11.097 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:38:11.098 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:38:11.099 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:11.100 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:38:13.021 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:38:13.089 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1991.3377ms
2023-06-26 23:38:13.089 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:38:13.089 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=2 - - - 200 1997034 application/json;+charset=utf-8 1992.8477ms
2023-06-26 23:38:14.863 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:38:14.864 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:14.864 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.6610ms
2023-06-26 23:38:14.865 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:38:14.865 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:14.866 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:38:14.866 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:38:14.866 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:14.867 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:38:14.869 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:38:15.476 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:15.506 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 640.5283ms
2023-06-26 23:38:15.506 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:38:15.507 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 641.3324ms
2023-06-26 23:38:16.110 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 23:38:16.110 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:16.110 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.3999ms
2023-06-26 23:38:16.111 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 23:38:16.111 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:16.111 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:38:16.111 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:38:16.112 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:16.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:38:18.050 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:38:18.075 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1963.2067ms
2023-06-26 23:38:18.075 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:38:18.075 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 1963.9188ms
2023-06-26 23:38:25.993 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:38:25.993 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:25.993 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.4367ms
2023-06-26 23:38:25.994 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:38:25.994 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:25.994 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:38:25.994 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:38:25.994 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.5705ms
2023-06-26 23:38:25.997 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=RmO3XEhDwcEMSUGl-Z1m7A - -
2023-06-26 23:38:25.997 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:25.997 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:38:26.001 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 23:38:26.001 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:26.002 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.2985ms
2023-06-26 23:38:26.003 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-26 23:38:26.003 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:26.004 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 23:38:26.004 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 23:38:26.004 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:26.005 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 23:38:26.006 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:26.007 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.9332ms
2023-06-26 23:38:26.007 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-26 23:38:26.007 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 254 application/json;+charset=utf-8 3.7150ms
2023-06-26 23:38:47.482 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/AddCard/8 - -
2023-06-26 23:38:47.482 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.483 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/AddCard/8 - - - 204 - - 0.4129ms
2023-06-26 23:38:47.483 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Card/AddCard/8 application/json 100
2023-06-26 23:38:47.484 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.484 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.AddCard (CantinaUPT_API.Web)'
2023-06-26 23:38:47.484 +03:00 [INF] Route matched with {action = "AddCard", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCard(Int32, CantinaUPT_API.Web.ApiModels.CardDTO) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-26 23:38:47.485 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:47.486 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-26 23:38:47.488 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cards] ([EncryptedCvc], [EncryptedNumber], [Expiry], [Name], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Cards]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:38:47.497 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:38:47.497 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.AddCard (CantinaUPT_API.Web) in 12.7188ms
2023-06-26 23:38:47.497 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.AddCard (CantinaUPT_API.Web)'
2023-06-26 23:38:47.498 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Card/AddCard/8 application/json 100 - 200 - - 14.2407ms
2023-06-26 23:38:47.500 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-26 23:38:47.500 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.500 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.2836ms
2023-06-26 23:38:47.501 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 220
2023-06-26 23:38:47.501 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.502 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 23:38:47.502 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:38:47.503 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:47.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:38:47.506 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] IN (25, 27, 21)
2023-06-26 23:38:47.756 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-26 23:38:47.757 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:38:47.758 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:38:47.758 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:38:47.758 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-26 23:38:47.764 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:38:47.764 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 262.2466ms
2023-06-26 23:38:47.764 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-26 23:38:47.765 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 220 - 200 - - 263.3390ms
2023-06-26 23:38:47.769 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:47.769 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.770 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.4945ms
2023-06-26 23:38:47.770 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:47.770 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.770 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.2142ms
2023-06-26 23:38:47.771 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:47.771 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.771 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.2087ms
2023-06-26 23:38:47.771 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:47.771 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.772 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:47.772 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:38:47.773 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:47.774 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:38:47.777 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-26 23:38:47.777 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.777 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3485ms
2023-06-26 23:38:47.778 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-26 23:38:47.778 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.778 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:38:47.778 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.778 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-26 23:38:47.778 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.2215ms
2023-06-26 23:38:47.779 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-26 23:38:47.779 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.7586ms
2023-06-26 23:38:47.779 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:38:47.780 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.780 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:38:47.780 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:38:47.782 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:47.787 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=JLzN0zXNYca9Bp-XbYVWFg - -
2023-06-26 23:38:47.788 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:47.788 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-26 23:38:47.793 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:38:49.211 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 23:38:49.232 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:49.243 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1462.243ms
2023-06-26 23:38:49.243 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:38:49.243 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 941569 application/json;+charset=utf-8 1463.5774ms
2023-06-26 23:38:49.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:49.264 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:49.265 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:49.265 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:38:49.266 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:49.268 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:38:49.309 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1536.7545ms
2023-06-26 23:38:49.309 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:49.309 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 4083194 application/json;+charset=utf-8 1538.1126ms
2023-06-26 23:38:50.451 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:50.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:50.474 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:50.475 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:50.475 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:38:50.476 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:50.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:38:50.520 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1254.881ms
2023-06-26 23:38:50.520 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:50.520 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 4083194 application/json;+charset=utf-8 1256.6909ms
2023-06-26 23:38:51.672 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:51.695 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:38:51.695 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:38:51.695 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:51.695 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:38:51.697 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:38:51.698 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:38:51.739 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1264.4571ms
2023-06-26 23:38:51.739 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:51.740 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 4083194 application/json;+charset=utf-8 1265.4978ms
2023-06-26 23:38:52.802 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:38:52.855 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1159.9142ms
2023-06-26 23:38:52.856 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:38:52.856 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 4083194 application/json;+charset=utf-8 1161.1329ms
2023-06-26 23:39:06.171 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1011&newOrderStatusId=2 - -
2023-06-26 23:39:06.171 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:06.171 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1011&newOrderStatusId=2 - - - 204 - - 0.4375ms
2023-06-26 23:39:06.172 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1011&newOrderStatusId=2 application/json 4
2023-06-26 23:39:06.173 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:06.173 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 23:39:06.173 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:06.174 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:06.176 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:39:06.178 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:39:06.181 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 23:39:06.182 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:39:06.182 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 8.2675ms
2023-06-26 23:39:06.182 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 23:39:06.182 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1011&newOrderStatusId=2 application/json 4 - 200 - - 9.7454ms
2023-06-26 23:39:06.184 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:39:06.184 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:06.185 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.2544ms
2023-06-26 23:39:06.185 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:39:06.185 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:06.186 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:39:06.186 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:06.186 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:06.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:07.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:39:07.381 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1195.2958ms
2023-06-26 23:39:07.381 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:39:07.381 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 4083190 application/json;+charset=utf-8 1196.0503ms
2023-06-26 23:39:07.443 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:07.443 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:07.444 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.5752ms
2023-06-26 23:39:07.444 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:07.444 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:07.444 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.2430ms
2023-06-26 23:39:07.444 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:07.444 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:07.445 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:07.445 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:07.446 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:07.448 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:08.608 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 23:39:08.621 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:08.621 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:08.621 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:08.622 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:08.622 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:08.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:08.632 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1187.4258ms
2023-06-26 23:39:08.632 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:08.633 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 941565 application/json;+charset=utf-8 1188.1459ms
2023-06-26 23:39:09.735 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 23:39:09.748 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:09.748 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:09.749 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:09.749 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:09.750 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:09.751 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:09.758 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1136.5686ms
2023-06-26 23:39:09.758 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:09.758 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 941565 application/json;+charset=utf-8 1137.5553ms
2023-06-26 23:39:10.908 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 23:39:10.921 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:10.921 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:10.922 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:10.922 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:10.923 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:10.924 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:10.938 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1189.5232ms
2023-06-26 23:39:10.939 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:10.939 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 941565 application/json;+charset=utf-8 1190.6840ms
2023-06-26 23:39:12.156 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-26 23:39:12.175 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1253.39ms
2023-06-26 23:39:12.176 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:12.176 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 941565 application/json;+charset=utf-8 1254.4397ms
2023-06-26 23:39:16.815 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1011&newOrderStatusId=3 - -
2023-06-26 23:39:16.815 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:16.815 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/UpdateOrderStatus?orderId=1011&newOrderStatusId=3 - - - 204 - - 0.4574ms
2023-06-26 23:39:16.816 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1011&newOrderStatusId=3 application/json 4
2023-06-26 23:39:16.816 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:16.816 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 23:39:16.816 +03:00 [INF] Route matched with {action = "UpdateOrderStatus", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderStatus(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:16.817 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:16.818 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:39:16.820 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-26 23:39:16.821 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [CanteenId] = @p0, [OrderDate] = @p1, [StatusId] = @p2, [TotalPrice] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;
2023-06-26 23:39:16.822 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:39:16.822 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web) in 5.747ms
2023-06-26 23:39:16.822 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.UpdateOrderStatus (CantinaUPT_API.Web)'
2023-06-26 23:39:16.823 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:57678/api/order/UpdateOrderStatus?orderId=1011&newOrderStatusId=3 application/json 4 - 200 - - 6.7797ms
2023-06-26 23:39:16.825 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:39:16.825 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:16.825 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 204 - - 0.2088ms
2023-06-26 23:39:16.825 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - -
2023-06-26 23:39:16.825 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:16.826 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:39:16.826 +03:00 [INF] Route matched with {action = "GetOrdersForCanteen", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrdersForCanteen(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:16.826 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:16.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE (((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))) AND ([o].[CanteenId] = @__canteenId_0)
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:17.910 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.OrderDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:39:17.965 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web) in 1139.0758ms
2023-06-26 23:39:17.965 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetOrdersForCanteen (CantinaUPT_API.Web)'
2023-06-26 23:39:17.965 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetOrdersForCanteen?canteenId=2 - - - 200 4083190 application/json;+charset=utf-8 1139.8655ms
2023-06-26 23:39:18.022 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:18.022 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:18.023 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.4133ms
2023-06-26 23:39:18.023 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:18.023 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:18.023 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3004ms
2023-06-26 23:39:18.024 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:18.024 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:18.024 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:18.024 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:18.025 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:18.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:19.151 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:39:19.151 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1127.0124ms
2023-06-26 23:39:19.151 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:19.152 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 1128.0476ms
2023-06-26 23:39:19.153 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:19.153 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:19.153 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:19.153 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:19.154 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:19.155 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:20.324 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:39:20.325 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1171.1561ms
2023-06-26 23:39:20.325 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:20.325 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 1172.2292ms
2023-06-26 23:39:20.326 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:20.326 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:20.326 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:20.326 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:20.327 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:20.328 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:21.494 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:39:21.494 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1167.7744ms
2023-06-26 23:39:21.494 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:21.495 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 1168.7823ms
2023-06-26 23:39:21.495 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-26 23:39:21.496 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:21.496 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:21.496 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-26 23:39:21.497 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:21.498 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-26 23:39:22.683 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:39:22.683 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 1187.267ms
2023-06-26 23:39:22.683 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-26 23:39:22.684 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 1188.5548ms
2023-06-26 23:39:26.420 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:39:26.420 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:26.421 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.6945ms
2023-06-26 23:39:26.422 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:39:26.422 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:26.422 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:39:26.422 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:39:26.423 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:26.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:39:26.424 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:39:26.425 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.7402ms
2023-06-26 23:39:26.425 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:39:26.425 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.4085ms
2023-06-26 23:39:30.219 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:39:30.220 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:30.220 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3736ms
2023-06-26 23:39:30.221 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:39:30.221 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:30.221 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:39:30.221 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:39:30.221 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:30.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:39:30.224 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:39:30.844 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:39:30.876 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 654.6506ms
2023-06-26 23:39:30.876 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:39:30.876 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 655.3484ms
2023-06-26 23:39:32.420 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:39:32.420 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:32.420 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 204 - - 0.3953ms
2023-06-26 23:39:32.421 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:39:32.421 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:32.422 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:39:32.422 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:39:32.422 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:32.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:39:34.436 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:39:34.451 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2029.0271ms
2023-06-26 23:39:34.451 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:39:34.451 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586607 application/json;+charset=utf-8 2029.7827ms
2023-06-26 23:39:37.983 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/meal/ChangeDisponibility?mealId=25 - -
2023-06-26 23:39:37.984 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:37.984 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/meal/ChangeDisponibility?mealId=25 - - - 204 - - 1.2858ms
2023-06-26 23:39:37.985 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/meal/ChangeDisponibility?mealId=25 application/json 4
2023-06-26 23:39:37.986 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:37.987 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.MealController.ChangeDisponibility (CantinaUPT_API.Web)'
2023-06-26 23:39:37.989 +03:00 [INF] Route matched with {action = "ChangeDisponibility", controller = "Meal", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeDisponibility(Int32) on controller CantinaUPT_API.Web.Controllers.MealController (CantinaUPT_API.Web).
2023-06-26 23:39:37.991 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:37.996 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] = @__p_0
2023-06-26 23:39:38.058 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = -1), @p7='?' (DbType = Int32), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Meals] SET [CanteenId] = @p0, [CategoryId] = @p1, [DailyMenuId] = @p2, [Description] = @p3, [Disponibility] = @p4, [Name] = @p5, [PictureURL] = @p6, [PortionId] = @p7, [Price] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2023-06-26 23:39:38.064 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-26 23:39:38.064 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.MealController.ChangeDisponibility (CantinaUPT_API.Web) in 75.552ms
2023-06-26 23:39:38.064 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.MealController.ChangeDisponibility (CantinaUPT_API.Web)'
2023-06-26 23:39:38.065 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/meal/ChangeDisponibility?mealId=25 application/json 4 - 200 - - 79.9565ms
2023-06-26 23:39:38.067 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:39:38.067 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:38.067 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 204 - - 0.2789ms
2023-06-26 23:39:38.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:39:38.068 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:38.068 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:39:38.068 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:39:38.069 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:38.070 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:39:40.054 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:39:40.073 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 2005.0288ms
2023-06-26 23:39:40.074 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:39:40.074 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586608 application/json;+charset=utf-8 2005.6862ms
2023-06-26 23:39:46.749 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:39:46.749 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:46.749 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.5239ms
2023-06-26 23:39:46.750 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:39:46.750 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:46.751 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:39:46.751 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:39:46.751 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:46.752 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:39:46.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:39:47.340 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:39:47.377 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 626.7702ms
2023-06-26 23:39:47.378 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:39:47.378 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 627.7711ms
2023-06-26 23:39:48.756 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:39:48.757 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:48.757 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 204 - - 0.3710ms
2023-06-26 23:39:48.757 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - -
2023-06-26 23:39:48.757 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:39:48.758 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:39:48.758 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:39:48.758 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:39:48.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:39:50.737 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:39:50.754 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1996.2184ms
2023-06-26 23:39:50.754 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:39:50.754 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=1 - - - 200 586608 application/json;+charset=utf-8 1997.0359ms
2023-06-26 23:40:02.319 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:40:02.319 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:02.319 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3722ms
2023-06-26 23:40:02.320 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:40:02.320 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:02.320 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:40:02.320 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:40:02.321 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:40:02.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:40:02.322 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:40:02.323 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.4563ms
2023-06-26 23:40:02.323 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:40:02.323 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.0592ms
2023-06-26 23:40:11.664 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:40:11.664 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:11.664 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3038ms
2023-06-26 23:40:11.665 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:40:11.665 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:11.665 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:40:11.665 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:40:11.666 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:40:11.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:40:11.668 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:40:12.157 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:40:12.188 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 522.5322ms
2023-06-26 23:40:12.188 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:40:12.188 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 523.2653ms
2023-06-26 23:40:20.742 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:40:20.742 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:20.742 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3291ms
2023-06-26 23:40:20.743 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:40:20.743 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:20.743 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:40:20.743 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:40:20.744 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:40:20.744 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:40:20.746 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:40:21.265 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:40:21.291 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 547.1471ms
2023-06-26 23:40:21.291 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:40:21.291 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 547.7429ms
2023-06-26 23:40:22.506 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 23:40:22.506 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:22.506 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.3468ms
2023-06-26 23:40:22.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-26 23:40:22.507 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:22.507 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:40:22.507 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:40:22.508 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:40:22.509 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-26 23:40:24.187 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-26 23:40:24.209 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 1701.3056ms
2023-06-26 23:40:24.209 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-26 23:40:24.209 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 1702.0699ms
2023-06-26 23:40:27.025 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:40:27.025 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:27.026 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3887ms
2023-06-26 23:40:27.026 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-26 23:40:27.026 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:27.027 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:40:27.027 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-26 23:40:27.027 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:40:27.028 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-26 23:40:27.029 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-26 23:40:27.525 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:40:27.554 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 526.8131ms
2023-06-26 23:40:27.554 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-26 23:40:27.554 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 527.4568ms
2023-06-26 23:40:28.039 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:40:28.039 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:28.039 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3684ms
2023-06-26 23:40:28.040 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-26 23:40:28.040 +03:00 [INF] CORS policy execution successful.
2023-06-26 23:40:28.040 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:40:28.040 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-26 23:40:28.041 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-26 23:40:28.042 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-26 23:40:28.042 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-26 23:40:28.043 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.477ms
2023-06-26 23:40:28.043 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-26 23:40:28.043 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 3.0568ms
