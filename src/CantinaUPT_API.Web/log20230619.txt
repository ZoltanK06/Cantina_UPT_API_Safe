2023-06-19 08:08:16.930 +03:00 [INF] User profile is available. Using 'C:\Users\zkato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-19 08:08:17.820 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:08:18.183 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-19 08:08:18.223 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-19 08:08:18.233 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:08:18.472 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ToDoItems] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-06-19 08:08:18.552 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-19 08:08:18.552 +03:00 [INF] Hosting environment: Development
2023-06-19 08:08:18.553 +03:00 [INF] Content root path: C:\Users\zkato\Source\Repos\Cantina_UPT_API_Safe\src\CantinaUPT_API.Web\
2023-06-19 08:08:18.572 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2023-06-19 08:08:18.618 +03:00 [WRN] Failed to determine the https port for redirect.
2023-06-19 08:08:18.708 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-19 08:08:18.714 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller CantinaUPT_API.Web.Controllers.HomeController (CantinaUPT_API.Web).
2023-06-19 08:08:18.721 +03:00 [INF] Executing ViewResult, running view Index.
2023-06-19 08:08:18.900 +03:00 [INF] Executed ViewResult - view Index executed in 179.0278ms.
2023-06-19 08:08:18.904 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web) in 189.1199ms
2023-06-19 08:08:18.904 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-19 08:08:18.937 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2023-06-19 08:08:18.939 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2023-06-19 08:08:18.940 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 370.3372ms
2023-06-19 08:08:18.941 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 3.7877ms
2023-06-19 08:08:18.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.3994ms
2023-06-19 08:09:43.836 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-19 08:09:43.848 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:09:43.849 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-19 08:09:43.852 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-19 08:09:43.959 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:09:44.027 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-19 08:09:44.105 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 08:09:44.185 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 333.5131ms
2023-06-19 08:09:44.186 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-19 08:09:44.190 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 354.1109ms
2023-06-19 08:11:30.193 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-19 08:11:30.195 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:30.195 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-19 08:11:30.196 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-19 08:11:30.198 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:11:30.203 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-19 08:11:30.211 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-19 08:11:30.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 08:11:30.748 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 551.5961ms
2023-06-19 08:11:30.748 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-19 08:11:30.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 555.6719ms
2023-06-19 08:11:31.860 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-19 08:11:31.862 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:31.862 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-19 08:11:31.871 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-19 08:11:31.887 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:11:32.064 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-19 08:11:32.485 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-19 08:11:32.518 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 647.1966ms
2023-06-19 08:11:32.518 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-19 08:11:32.518 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 658.2381ms
2023-06-19 08:11:43.052 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - -
2023-06-19 08:11:43.052 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:43.054 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Auth/Login - - - 204 - - 1.5510ms
2023-06-19 08:11:43.056 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 86
2023-06-19 08:11:43.057 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:43.057 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-19 08:11:43.060 +03:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CantinaUPT_API.Web.ApiModels.LoginRequestDTO) on controller CantinaUPT_API.Web.Controllers.AuthController (CantinaUPT_API.Web).
2023-06-19 08:11:43.101 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:11:43.111 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Username_0='?' (Size = 4000), @__user_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username], [r].[Id], [r].[RoleName], [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
LEFT JOIN [Canteens] AS [c] ON [u].[CanteenId] = [c].[Id]
WHERE ([u].[Username] = @__user_Username_0) OR ([u].[Email] = @__user_Email_1)
2023-06-19 08:11:43.203 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Core.ProjectAggregate.LoginResponse'.
2023-06-19 08:11:43.204 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web) in 144.4829ms
2023-06-19 08:11:43.205 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.AuthController.Login (CantinaUPT_API.Web)'
2023-06-19 08:11:43.205 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/Auth/Login application/json 86 - 200 454 application/json;+charset=utf-8 148.5879ms
2023-06-19 08:11:43.211 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-19 08:11:43.211 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:43.211 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.3974ms
2023-06-19 08:11:43.212 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-19 08:11:43.212 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:43.264 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-19 08:11:43.264 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-19 08:11:43.264 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:11:43.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-19 08:11:43.266 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 08:11:43.266 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 2.411ms
2023-06-19 08:11:43.267 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-19 08:11:43.267 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 54.7394ms
2023-06-19 08:11:44.289 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-19 08:11:44.290 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:44.290 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 1.0351ms
2023-06-19 08:11:44.291 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-19 08:11:44.291 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:44.291 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-19 08:11:44.291 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-19 08:11:44.292 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:11:44.292 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-19 08:11:44.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-19 08:11:44.844 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 08:11:44.873 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 582.2439ms
2023-06-19 08:11:44.874 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-19 08:11:44.874 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 583.1256ms
2023-06-19 08:11:45.993 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-19 08:11:45.993 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:45.993 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.3167ms
2023-06-19 08:11:45.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-19 08:11:45.994 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:11:45.994 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-19 08:11:45.994 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-19 08:11:45.995 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:11:45.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-19 08:11:46.343 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-19 08:11:46.368 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 374.011ms
2023-06-19 08:11:46.369 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-19 08:11:46.369 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 374.7030ms
2023-06-19 08:14:32.604 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-19 08:14:32.604 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:14:32.605 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 0.5199ms
2023-06-19 08:14:32.606 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-19 08:14:32.606 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:14:32.606 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-19 08:14:32.606 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-19 08:14:32.607 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:14:32.611 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-19 08:14:32.615 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 08:14:32.615 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 9.0454ms
2023-06-19 08:14:32.616 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-19 08:14:32.616 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 9.8916ms
2023-06-19 08:14:33.527 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-19 08:14:33.528 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:14:33.528 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 204 - - 0.3393ms
2023-06-19 08:14:33.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - -
2023-06-19 08:14:33.529 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:14:33.529 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-19 08:14:33.529 +03:00 [INF] Route matched with {action = "GetAllCategoriesWithPictures", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategoriesWithPictures() on controller CantinaUPT_API.Web.Controllers.CategoryController (CantinaUPT_API.Web).
2023-06-19 08:14:33.529 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:14:33.530 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CategoryName]
FROM [Categories] AS [c]
2023-06-19 08:14:33.531 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[PictureURL]
FROM [CategoryPictures] AS [c]
2023-06-19 08:14:34.024 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Core.ProjectAggregate.CategoryWithPictures, CantinaUPT_API.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 08:14:34.057 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web) in 527.5146ms
2023-06-19 08:14:34.057 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CategoryController.GetAllCategoriesWithPictures (CantinaUPT_API.Web)'
2023-06-19 08:14:34.057 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/category/GetAllCategoriesWithPictures - - - 200 1836471 application/json;+charset=utf-8 528.1363ms
2023-06-19 08:14:35.048 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-19 08:14:35.048 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:14:35.048 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 204 - - 0.3247ms
2023-06-19 08:14:35.049 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - -
2023-06-19 08:14:35.049 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:14:35.049 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-19 08:14:35.049 +03:00 [INF] Route matched with {action = "GetMealsOfCanteenByCategory", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMealsOfCanteenByCategory(Int32, Int32) on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-19 08:14:35.050 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:14:35.051 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__canteenId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Location], [t].[Name], [t].[PictureURL], [t0].[Id], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price], [t0].[Id0], [t0].[CategoryName], [t0].[Id1], [t0].[PortionName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
    FROM [Canteens] AS [c]
    WHERE [c].[Id] = @__canteenId_0
) AS [t]
LEFT JOIN (
    SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price], [c0].[Id] AS [Id0], [c0].[CategoryName], [p].[Id] AS [Id1], [p].[PortionName]
    FROM [Meals] AS [m]
    INNER JOIN [Categories] AS [c0] ON [m].[CategoryId] = [c0].[Id]
    INNER JOIN [Portions] AS [p] ON [m].[PortionId] = [p].[Id]
) AS [t0] ON [t].[Id] = [t0].[CanteenId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2023-06-19 08:14:35.407 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.CanteenWithMealsByCategoryDTO'.
2023-06-19 08:14:35.428 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web) in 378.7602ms
2023-06-19 08:14:35.428 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetMealsOfCanteenByCategory (CantinaUPT_API.Web)'
2023-06-19 08:14:35.428 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetMealsOfCanteenByCategory?canteenId=2&categoryId=3 - - - 200 1381137 application/json;+charset=utf-8 379.3328ms
2023-06-19 08:22:49.781 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-19 08:22:49.781 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:22:49.782 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.5137ms
2023-06-19 08:22:49.783 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-19 08:22:49.783 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:22:49.783 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-19 08:22:49.791 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-19 08:22:49.792 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 8.8846ms
2023-06-19 08:22:49.794 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=3BPDnI86qrO4SLgngN_84Q - -
2023-06-19 08:22:49.794 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:22:49.794 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-19 08:22:49.826 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-19 08:22:49.829 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:22:49.830 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 3.3156ms
2023-06-19 08:22:49.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-19 08:22:49.832 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:22:49.832 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-19 08:22:49.834 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-19 08:22:49.837 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:22:49.857 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-19 08:22:49.868 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 08:22:49.870 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 36.1595ms
2023-06-19 08:22:49.870 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-19 08:22:49.871 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 39.2769ms
2023-06-19 08:28:22.343 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-19 08:28:22.343 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:28:22.343 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.5361ms
2023-06-19 08:28:22.344 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-19 08:28:22.346 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:28:22.346 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 08:28:22.348 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-19 08:28:22.353 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:28:22.376 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-19 08:28:22.547 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-19 08:28:22.548 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 199.5571ms
2023-06-19 08:28:22.548 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 08:28:22.548 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 - - 203.8054ms
2023-06-19 08:28:54.774 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - -
2023-06-19 08:28:54.775 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:28:54.775 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - - - 204 - - 0.3224ms
2023-06-19 08:28:54.776 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0
2023-06-19 08:28:54.776 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:28:54.776 +03:00 [INF] Executing endpoint '/hubs/orders/negotiate'
2023-06-19 08:28:54.776 +03:00 [INF] Executed endpoint '/hubs/orders/negotiate'
2023-06-19 08:28:54.776 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/hubs/orders/negotiate?negotiateVersion=1 - 0 - 200 316 application/json 0.8080ms
2023-06-19 08:28:54.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/hubs/orders?id=aoAfki9nVDyD2XhKMkEKhA - -
2023-06-19 08:28:54.820 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:28:54.820 +03:00 [INF] Executing endpoint '/hubs/orders'
2023-06-19 08:28:54.826 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-19 08:28:54.826 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:28:54.826 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 204 - - 0.2647ms
2023-06-19 08:28:54.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - -
2023-06-19 08:28:54.827 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:28:54.827 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-19 08:28:54.827 +03:00 [INF] Route matched with {action = "GetUsersCards", controller = "Card", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersCards(Int32) on controller CantinaUPT_API.Web.Controllers.CardController (CantinaUPT_API.Web).
2023-06-19 08:28:54.828 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:28:54.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[Email], [t].[PasswordHash], [t].[PasswordSalt], [t].[RoleId], [t].[Username], [c].[Id], [c].[EncryptedCvc], [c].[EncryptedNumber], [c].[Expiry], [c].[Name], [c].[UserId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[CanteenId], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [t]
LEFT JOIN [Cards] AS [c] ON [t].[Id] = [c].[UserId]
ORDER BY [t].[Id]
2023-06-19 08:28:54.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CardDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 08:28:54.830 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web) in 2.8373ms
2023-06-19 08:28:54.830 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CardController.GetUsersCards (CantinaUPT_API.Web)'
2023-06-19 08:28:54.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/Card/GetUsersCards?userId=8 - - - 200 169 application/json;+charset=utf-8 3.3836ms
2023-06-19 08:36:34.949 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - -
2023-06-19 08:36:34.949 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:36:34.949 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/AddOrder - - - 204 - - 0.3785ms
2023-06-19 08:36:34.950 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 188
2023-06-19 08:36:34.950 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:36:34.951 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-19 08:36:34.953 +03:00 [INF] Route matched with {action = "AddOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrder(CantinaUPT_API.Web.ApiModels.OrderDTO) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-19 08:36:34.980 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:36:34.993 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[OrderStatusName]
FROM [OrderStatuses] AS [o]
WHERE [o].[Id] = @__p_0
2023-06-19 08:36:35.009 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
FROM [Meals] AS [m]
WHERE [m].[Id] IN (20, 21)
2023-06-19 08:36:35.171 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CanteenId], [t].[OrderDate], [t].[StatusId], [t].[TotalPrice], [t].[UserId], [t].[Id0], [t].[OrderStatusName], [t0].[Id], [t0].[MealId], [t0].[OrderId], [t0].[Quantity], [t0].[Id0], [t0].[CanteenId], [t0].[CategoryId], [t0].[DailyMenuId], [t0].[Description], [t0].[Disponibility], [t0].[Name], [t0].[PictureURL], [t0].[PortionId], [t0].[Price]
FROM (
    SELECT TOP(1) [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id] AS [Id0], [o0].[OrderStatusName]
    FROM [Orders] AS [o]
    INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
    WHERE ([o].[UserId] = @__userId_0) AND ([o0].[OrderStatusName] <> N'Taken')
) AS [t]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t0] ON [t].[Id] = [t0].[OrderId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id]
2023-06-19 08:36:35.291 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([CanteenId], [OrderDate], [StatusId], [TotalPrice], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-19 08:36:35.320 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-19 08:36:35.321 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([MealId], [OrderId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-06-19 08:36:35.348 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-19 08:36:35.348 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web) in 394.9467ms
2023-06-19 08:36:35.348 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.AddOrder (CantinaUPT_API.Web)'
2023-06-19 08:36:35.348 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:57678/api/order/AddOrder application/json 188 - 200 - - 397.8331ms
2023-06-19 08:36:35.359 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-19 08:36:35.359 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:36:35.359 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.3162ms
2023-06-19 08:36:35.360 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-19 08:36:35.360 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:36:35.360 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 08:36:35.361 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-19 08:36:35.361 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:36:35.362 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-19 08:36:35.677 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-19 08:36:35.693 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 332.5119ms
2023-06-19 08:36:35.693 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 08:36:35.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 640834 application/json;+charset=utf-8 333.1604ms
2023-06-19 08:43:55.728 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-19 08:43:55.728 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:43:55.728 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 204 - - 0.4158ms
2023-06-19 08:43:55.730 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - -
2023-06-19 08:43:55.730 +03:00 [INF] CORS policy execution successful.
2023-06-19 08:43:55.730 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 08:43:55.730 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-19 08:43:55.731 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 08:43:55.738 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-19 08:43:56.067 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-19 08:43:56.082 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 351.9746ms
2023-06-19 08:43:56.082 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 08:43:56.082 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8&canteenId=2 - - - 200 640834 application/json;+charset=utf-8 352.7684ms
2023-06-19 08:47:51.835 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-19 08:47:51.835 +03:00 [INF] Executed endpoint '/hubs/orders'
2023-06-19 08:47:51.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=3BPDnI86qrO4SLgngN_84Q - - - 101 - - 1502041.3470ms
2023-06-19 08:47:51.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/hubs/orders?id=aoAfki9nVDyD2XhKMkEKhA - - - 101 - - 1137015.4868ms
2023-06-19 17:50:59.304 +03:00 [INF] User profile is available. Using 'C:\Users\zkato\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-19 17:51:00.154 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 17:51:00.497 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-06-19 17:51:00.528 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-06-19 17:51:00.537 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 17:51:00.768 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ToDoItems] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-06-19 17:51:00.844 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-19 17:51:00.844 +03:00 [INF] Hosting environment: Development
2023-06-19 17:51:00.844 +03:00 [INF] Content root path: C:\Users\zkato\Source\Repos\Cantina_UPT_API_Safe\src\CantinaUPT_API.Web\
2023-06-19 17:51:00.862 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2023-06-19 17:51:00.906 +03:00 [WRN] Failed to determine the https port for redirect.
2023-06-19 17:51:00.983 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-19 17:51:00.989 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller CantinaUPT_API.Web.Controllers.HomeController (CantinaUPT_API.Web).
2023-06-19 17:51:00.997 +03:00 [INF] Executing ViewResult, running view Index.
2023-06-19 17:51:01.173 +03:00 [INF] Executed ViewResult - view Index executed in 176.473ms.
2023-06-19 17:51:01.177 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web) in 186.9067ms
2023-06-19 17:51:01.177 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.HomeController.Index (CantinaUPT_API.Web)'
2023-06-19 17:51:01.211 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-06-19 17:51:01.211 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/CantinaUPT_API.Web.styles.css?v=WEqNqzZ3UpuAc7H7SkjxwOizCgkYhlY1C00A3X0rFVs - -
2023-06-19 17:51:01.211 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/css/site.css?v=AKvNjO3dCPPS0eSU1Ez8T2wI280i08yGycV9ndytL-c - -
2023-06-19 17:51:01.220 +03:00 [INF] The file /css/site.css was not modified
2023-06-19 17:51:01.220 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2023-06-19 17:51:01.220 +03:00 [INF] The file /CantinaUPT_API.Web.styles.css was not modified
2023-06-19 17:51:01.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/css/site.css?v=AKvNjO3dCPPS0eSU1Ez8T2wI280i08yGycV9ndytL-c - - - 304 - text/css 11.2648ms
2023-06-19 17:51:01.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/CantinaUPT_API.Web.styles.css?v=WEqNqzZ3UpuAc7H7SkjxwOizCgkYhlY1C00A3X0rFVs - - - 304 - text/css 11.2659ms
2023-06-19 17:51:01.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 11.2567ms
2023-06-19 17:51:01.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 363.6569ms
2023-06-19 17:51:01.249 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-06-19 17:51:01.251 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/lib/jquery/dist/jquery.min.js - -
2023-06-19 17:51:01.252 +03:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2023-06-19 17:51:01.252 +03:00 [INF] The file /js/site.js was not modified
2023-06-19 17:51:01.253 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/lib/jquery/dist/jquery.min.js - - - 304 - application/javascript 1.8489ms
2023-06-19 17:51:01.253 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 304 - application/javascript 6.2359ms
2023-06-19 17:51:01.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-06-19 17:51:01.256 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2023-06-19 17:51:01.256 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - application/javascript 1.8744ms
2023-06-19 17:51:01.257 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2023-06-19 17:51:01.257 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2023-06-19 17:51:01.264 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 12006 application/javascript;+charset=utf-8 5.7227ms
2023-06-19 17:51:01.303 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.4859ms
2023-06-19 17:51:15.486 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-19 17:51:15.488 +03:00 [INF] CORS policy execution successful.
2023-06-19 17:51:15.489 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 204 - - 3.2289ms
2023-06-19 17:51:15.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - -
2023-06-19 17:51:15.493 +03:00 [INF] CORS policy execution successful.
2023-06-19 17:51:15.625 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-19 17:51:15.627 +03:00 [INF] Route matched with {action = "GetEveryCanteensDetails", controller = "Canteen", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEveryCanteensDetails() on controller CantinaUPT_API.Web.Controllers.CanteenController (CantinaUPT_API.Web).
2023-06-19 17:51:15.747 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 17:51:15.824 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Location], [c].[Name], [c].[PictureURL]
FROM [Canteens] AS [c]
2023-06-19 17:51:15.904 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CantinaUPT_API.Web.ApiModels.CanteensDetailsDTO, CantinaUPT_API.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-19 17:51:15.978 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web) in 350.3178ms
2023-06-19 17:51:15.978 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.CanteenController.GetEveryCanteensDetails (CantinaUPT_API.Web)'
2023-06-19 17:51:15.982 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/canteen/GetEveryCanteensDetails - - - 200 271 application/json;+charset=utf-8 491.6011ms
2023-06-19 17:51:50.922 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-19 17:51:50.922 +03:00 [INF] CORS policy execution successful.
2023-06-19 17:51:50.922 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 204 - - 0.5821ms
2023-06-19 17:51:50.924 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-19 17:51:50.925 +03:00 [INF] CORS policy execution successful.
2023-06-19 17:51:50.925 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 17:51:50.933 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-19 17:51:50.950 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 17:51:51.100 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-19 17:51:51.456 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-19 17:51:51.486 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 552.4417ms
2023-06-19 17:51:51.486 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 17:51:51.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 200 640834 application/json;+charset=utf-8 562.6937ms
2023-06-19 20:07:38.528 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-19 20:07:38.528 +03:00 [INF] CORS policy execution successful.
2023-06-19 20:07:38.529 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 204 - - 0.5948ms
2023-06-19 20:07:38.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-19 20:07:38.530 +03:00 [INF] CORS policy execution successful.
2023-06-19 20:07:38.530 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 20:07:38.530 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-19 20:07:38.532 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 20:07:38.552 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-19 20:07:38.877 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-19 20:07:38.894 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 363.7553ms
2023-06-19 20:07:38.894 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 20:07:38.894 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 200 640838 application/json;+charset=utf-8 364.7180ms
2023-06-19 20:10:44.055 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-19 20:10:44.055 +03:00 [INF] CORS policy execution successful.
2023-06-19 20:10:44.055 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 204 - - 0.3941ms
2023-06-19 20:10:44.056 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - -
2023-06-19 20:10:44.056 +03:00 [INF] CORS policy execution successful.
2023-06-19 20:10:44.057 +03:00 [INF] Executing endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 20:10:44.057 +03:00 [INF] Route matched with {action = "GetCurrentOrder", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCurrentOrder(Int32) on controller CantinaUPT_API.Web.Controllers.OrderController (CantinaUPT_API.Web).
2023-06-19 20:10:44.058 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2023-06-19 20:10:44.061 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CanteenId], [o].[OrderDate], [o].[StatusId], [o].[TotalPrice], [o].[UserId], [o0].[Id], [o0].[OrderStatusName], [t].[Id], [t].[MealId], [t].[OrderId], [t].[Quantity], [t].[Id0], [t].[CanteenId], [t].[CategoryId], [t].[DailyMenuId], [t].[Description], [t].[Disponibility], [t].[Name], [t].[PictureURL], [t].[PortionId], [t].[Price]
FROM [Orders] AS [o]
INNER JOIN [OrderStatuses] AS [o0] ON [o].[StatusId] = [o0].[Id]
LEFT JOIN (
    SELECT [o1].[Id], [o1].[MealId], [o1].[OrderId], [o1].[Quantity], [m].[Id] AS [Id0], [m].[CanteenId], [m].[CategoryId], [m].[DailyMenuId], [m].[Description], [m].[Disponibility], [m].[Name], [m].[PictureURL], [m].[PortionId], [m].[Price]
    FROM [OrderItems] AS [o1]
    INNER JOIN [Meals] AS [m] ON [o1].[MealId] = [m].[Id]
) AS [t] ON [o].[Id] = [t].[OrderId]
WHERE ((DATEPART(day, [o].[OrderDate]) = DATEPART(day, GETDATE())) AND (DATEPART(month, [o].[OrderDate]) = DATEPART(month, GETDATE()))) AND (DATEPART(year, [o].[OrderDate]) = DATEPART(year, GETDATE()))
ORDER BY [o].[Id], [o0].[Id], [t].[Id]
2023-06-19 20:10:44.421 +03:00 [INF] Executing OkObjectResult, writing value of type 'CantinaUPT_API.Web.ApiModels.OrderDTO'.
2023-06-19 20:10:44.437 +03:00 [INF] Executed action CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web) in 380.703ms
2023-06-19 20:10:44.438 +03:00 [INF] Executed endpoint 'CantinaUPT_API.Web.Controllers.OrderController.GetCurrentOrder (CantinaUPT_API.Web)'
2023-06-19 20:10:44.438 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/api/order/GetCurrentOrder?userId=8 - - - 200 640834 application/json;+charset=utf-8 381.4246ms
